var _a=Object.defineProperty;var qt=Object.getOwnPropertySymbols;var va=Object.prototype.hasOwnProperty,fa=Object.prototype.propertyIsEnumerable;var Gt=(p,w,m)=>w in p?_a(p,w,{enumerable:!0,configurable:!0,writable:!0,value:m}):p[w]=m,tt=(p,w)=>{for(var m in w||(w={}))va.call(w,m)&&Gt(p,m,w[m]);if(qt)for(var m of qt(w))fa.call(w,m)&&Gt(p,m,w[m]);return p};import{o as t,c as i,n as O,d as Jt,u as at,a,b as e,e as he,w as N,f as de,t as l,_ as Ae,g as r,h as Y,i as Rt,j as A,k as h,l as ae,F as K,r as ge,m as re,p as x,q as xe,s as Re,v as bt,x as Yt,y as it,z as Ke,I as ga,A as _t,B as se,C as ot,D as Ct,E as Se,G as ya,H as ha,J as ba,K as ka,L as Ca,M as $a,N as wa,O as Sa,P as xa,Q as Pa,R as Ia,S as Ea,T as Da,U as La,V as Je,W as Bt,X as Ta,Y as It,Z as Mt,$ as pt,a0 as Qt,a1 as Ba,a2 as Fa,a3 as Zt,a4 as Ue,a5 as Ye,a6 as za,a7 as Aa,a8 as ue,a9 as Ra,aa as Ot,ab as Ma,ac as Kt,ad as Oa,ae as Na,af as ea,ag as Va,ah as Ua,ai as Ft,aj as $t,ak as ut,al as zt,am as Nt,an as vt,ao as wt,ap as Oe,aq as St,ar as xt,as as Wa,at as ja,au as Ha,av as qa,aw as Ga,ax as Ja}from"./stepForm.27300039.js";const Ya={name:"IconComponent"},Pt=Object.assign(Ya,{props:{icon:{type:String,required:!0}},setup(p){return(w,m)=>(t(),i("span",{class:O(`am-icon-${p.icon}`)},null,2))}});const Qa={class:"am-cat__header-inner"},Xa={class:"am-cat__back-btn"},Za={key:0,class:"am-cat__cart-btn"},Ka={class:"am-cat__cart-number"},ei={name:"MainHeader"},Vt=Object.assign(ei,{props:{btnString:{type:String,default:""},btnType:{type:String,default:"plain"},btnSize:{type:String,default:"mini"},backBtnVisibility:{type:Boolean,default:!0},cartBtnVisibility:{type:Boolean,default:!1},cartItemsNumber:{type:Number,default:0}},emits:["goBack","goToCart"],setup(p,{emit:w}){const m=p;let P=Jt({components:{IconComponent:Pt},template:'<IconComponent icon="arrow-left"></IconComponent>'}),$=Jt({components:{IconComponent:Pt},template:'<IconComponent icon="cart"/>'});function B(){w("goBack")}const u=at();function s(){Rt(u),w("goToCart")}return(d,b)=>(t(),i("div",Qa,[a("div",Xa,[e(m).backBtnVisibility?(t(),he(Ae,{key:0,prefix:e(P),category:"secondary",type:p.btnType,size:p.btnSize,onClick:B},{default:N(()=>[de(l(e(m).btnString),1)]),_:1},8,["prefix","type","size"])):r("",!0)]),e(m).cartBtnVisibility?(t(),i("div",Za,[a("span",Ka,l(e(m).cartItemsNumber),1),Y(Ae,{category:"secondary",type:p.btnType,size:p.btnSize,round:!0,"icon-only":!0,icon:e($),onClick:s},null,8,["type","size","icon"])])):r("",!0)]))}});const ti={class:"am-cat__sidemenu-item__wrapper"},ai=["onClick"],ii={key:0,class:"am-cat__sidemenu-footer"},si={class:"am-cat__sidemenu-footer__text"},li=["href"],ni={name:"SideMenu"},oi=Object.assign(ni,{props:{menuItems:{type:Array,required:!0},initSelection:{type:[String,Number]},identifier:{type:String,required:!0},nameIdentifier:{type:String,required:!0},footerString:{type:String,default:""},companyEmail:{type:String,default:""}},emits:["click"],setup(p,{emit:w}){const m=p;function P(u){w("click",u)}let $=A("amColors"),B=h(()=>({"--am-c-csm-text-op10":ae($.value.colorSbText,.1),"--am-c-csm-primary-op10":ae($.value.colorPrimary,.1),"--am-c-csm-text-op60":ae($.value.colorSbText,.6),"--am-c-csm-text-op80":ae($.value.colorSbText,.8)}));return(u,s)=>(t(),i("div",{class:"am-cat__sidemenu",style:re(e(B))},[a("div",ti,[(t(!0),i(K,null,ge(p.menuItems,(d,b)=>(t(),i("div",{key:b,class:O(["am-cat__sidemenu-item",{"am-active":e(m).initSelection===d[e(m).identifier]}]),onClick:()=>P(d)},l(d[e(m).nameIdentifier]),11,ai))),128))]),e(m).companyEmail?(t(),i("div",ii,[a("span",si,l(e(m).footerString),1),a("a",{class:"am-cat__sidemenu-footer__email",href:`mailto:${e(m).companyEmail}`},l(e(m).companyEmail),9,li)])):r("",!0)],4))}});const ci={name:"MainContent"},Ut=Object.assign(ci,{props:{wrapperClass:{type:String,default:""},formClass:{type:String,default:""},headingClass:{type:String,default:""},contentClass:{type:String,default:""}},setup(p,{expose:w}){let m=x(null),P=x(0),$=x(null),B=x(0),u=x(null),s=x(0),d=x(null),b=x(null),L=x(0);window.addEventListener("resize",k);function k(){xe(()=>{m.value&&(P.value=m.value.offsetWidth),$.value&&(B.value=$.value.offsetWidth),u.value&&(s.value=u.value.offsetWidth)})}Re(()=>{xe(()=>{if(u.value&&d.value){let U=u.value.offsetHeight-d.value.offsetHeight-2;L.value=U<=656?656:U}k()})}),w({catHeaderWidth:P,catFormWidth:s,catContainerWidth:B});let I=A("amColors"),f=h(()=>({"--am-h-cat-content":`${L.value}px`,"--am-c-scroll-op30":ae(I.value.colorPrimary,.3),"--am-c-scroll-op10":ae(I.value.colorPrimary,.1)}));return(U,te)=>(t(),i("div",{class:O(["am-cat__wrapper",p.wrapperClass])},[a("div",{ref_key:"catHeader",ref:m,class:"am-cat__header"},[bt(U.$slots,"header")],512),a("div",{ref_key:"catContainer",ref:$,class:"am-cat__main"},[bt(U.$slots,"side"),a("div",{ref_key:"catForm",ref:u,class:O(["am-cat__form",p.formClass]),style:re(e(f))},[a("div",{ref_key:"catHeading",ref:d,class:O(["am-cat__heading",p.headingClass])},[bt(U.$slots,"heading")],2),a("div",{ref_key:"catContent",ref:b,class:O(["am-cat__content",p.contentClass])},[bt(U.$slots,"content")],2)],6)],512)],2))}}),ri={name:"AmImagePlaceholder"},ct=Object.assign(ri,{props:{itemClass:{type:String,default:""},itemData:{type:Object,default:()=>{}},trimString:{type:Number,default:2}},setup(p){const w=p;function m($){return $.pictureFullPath?{backgroundImage:`url(${$.pictureFullPath})`}:{backgroundColor:`${Yt.value[Math.floor(Math.random()*Yt.value.length)]}`}}function P($){return $.pictureFullPath?"":("firstName"in $?`${$.firstName} ${$.lastName}`:$.name).split(" ").map(u=>u.charAt(0)).join("").toUpperCase().substring(0,w.trimString).replace(/[^\w\s]/g,"")}return($,B)=>(t(),i("span",{class:O(e(w).itemClass),style:re(tt({},m(e(w).itemData)))},l(P(e(w).itemData)),7))}}),At=it(window.wpAmeliaSettings),Xt=it(window.wpAmeliaLabels);function ta(p,w,m,P=null,$=null){let B=[],u=p&&p.service?p.service.split(",").map(s=>parseInt(s)):null;return w&&w.serviceList.forEach(s=>{P?P in m.entitiesRelations&&s.id in m.entitiesRelations[P]&&($?m.entitiesRelations[P][s.id].find(d=>d===$):!0)&&s.status==="visible"&&s.show&&!B.filter(d=>d===s.id).length&&(!u||u.includes(s.id))&&B.push(s.id):m.employees.forEach(d=>{d.id in m.entitiesRelations&&s.id in m.entitiesRelations[d.id]&&($?m.entitiesRelations[d.id][s.id].find(b=>b===$):!0)&&s.status==="visible"&&s.show&&!B.filter(b=>b===s.id).length&&(!u||u.includes(s.id))&&B.push(s.id)})}),B}function aa(p,w){let m=[],P=[];p.employees.forEach(u=>{if(u.id in p.entitiesRelations&&w in p.entitiesRelations[u.id]){let s=u.serviceList.find(d=>d.id===w);m.push(s.maxCapacity),P.push(s.minCapacity)}});let $=P.reduce((u,s)=>s<u?s:u,P[0]),B=m.reduce((u,s)=>s>u?s:u,m[0]);return $!==B?`${$}/${B}`:$}function ia(p){let w=Math.floor(p/3600),m=p/60%60;return(w?w+Xt.h+" ":"")+" "+(m?m+Xt.min:"")}function rt(p,w){let m=[];p.employees.forEach(B=>{if(B.id in p.entitiesRelations&&w in p.entitiesRelations[B.id]){let u=B.serviceList.find(s=>s.id===w);m.push(u.price)}});let P=m.reduce((B,u)=>u<B?u:B,m[0]),$=m.reduce((B,u)=>u>B?u:B,m[0]);return P!==$?{price:`${Ke(P,!At.payments.hideCurrencySymbolFrontend)} - ${Ke($,!At.payments.hideCurrencySymbolFrontend)}`,min:P,max:$}:{price:Ke(P,At.payments.hideCurrencySymbolFrontend),min:P,max:$}}function ze(p,w){let m=[];return p.employees.forEach(P=>{P.id in p.entitiesRelations&&w in p.entitiesRelations[P.id]&&p.entitiesRelations[P.id][w].length&&p.locations.forEach($=>{p.entitiesRelations[P.id][w].some(B=>B===$.id)&&!m.find(B=>B===$.id)&&m.push($)})}),m}function ui(p,w){let m=[],P=Object.keys(p.entitiesRelations);return w.bookable.forEach($=>{let B=[];P.forEach(u=>{p.entitiesRelations[u]&&p.entitiesRelations[u][$.service.id]&&!B.find(s=>s?s.id===parseInt(u):!0)&&B.push(p.employees.find(s=>s.id===parseInt(u)))}),B.length||m.push(!1)}),m.filter($=>$===!1).length}function di(p,w,m){let P=[],$=Object.keys(p.entitiesRelations),B=m&&m.employee?m.employee.split(",").map(s=>parseInt(s)):null,u=x(B?p.unfilteredEmployees.filter(s=>B.map(d=>parseInt(d)).includes(s.id)):p.unfilteredEmployees);return w.bookable.forEach(s=>{let d=[];s.providers.length?s.providers.forEach(b=>{s.locations.length?s.locations.forEach(L=>{u.value.find(k=>k.id===b.id)&&p.entitiesRelations[b.id]&&p.entitiesRelations[b.id][s.service.id]&&p.entitiesRelations[b.id][s.service.id].indexOf(L.id)!==-1&&!d.find(k=>k.id===b.id)&&d.push(u.value.find(k=>k.id===b.id))}):u.value.find(L=>L.id===b.id)&&!d.find(L=>L.id===b.id)&&d.push(u.value.find(L=>L.id===b.id))}):$.forEach(b=>{s.locations.length?s.locations.forEach(L=>{p.entitiesRelations[b]&&p.entitiesRelations[b][s.service.id]&&p.entitiesRelations[b][s.service.id].indexOf(L.id)!==-1&&u.value.find(k=>k.id===parseInt(b))&&!d.find(k=>k.id===parseInt(b))&&d.push(u.value.find(k=>k.id===parseInt(b)))}):p.entitiesRelations[b]&&p.entitiesRelations[b][s.service.id]&&u.value.find(L=>L.id===parseInt(b))&&!d.find(L=>L.id===parseInt(b))&&d.push(u.value.find(L=>L.id===parseInt(b)))}),P.push(!!d.length)}),!P.filter(s=>s===!1).length}function sa(p,w,m){let P=[],$=Object.keys(p.entitiesRelations),B=m&&m.employee?m.employee.split(",").map(s=>parseInt(s)):null,u=x(B?p.unfilteredEmployees.filter(s=>B.map(d=>parseInt(d)).includes(s.id)):p.unfilteredEmployees);return w.bookable.forEach(s=>{s.providers.length?s.providers.forEach(d=>{s.locations.length?s.locations.forEach(b=>{u.value.find(L=>L.id===d.id)&&p.entitiesRelations[d.id]&&p.entitiesRelations[d.id][s.service.id]&&p.entitiesRelations[d.id][s.service.id].indexOf(b.id)!==-1&&!P.find(L=>L.id===d.id)&&P.push(u.value.find(L=>L.id===d.id))}):u.value.find(b=>b.id===d.id)&&!P.find(b=>b.id===d.id)&&P.push(u.value.find(b=>b.id===d.id))}):$.forEach(d=>{s.locations.length?s.locations.forEach(b=>{p.entitiesRelations[d]&&p.entitiesRelations[d][s.service.id]&&p.entitiesRelations[d][s.service.id].indexOf(b.id)!==-1&&u.value.find(L=>L.id===parseInt(d))&&!P.find(L=>L.id===parseInt(d))&&P.push(u.value.find(L=>L.id===parseInt(d)))}):p.entitiesRelations[d]&&p.entitiesRelations[d][s.service.id]&&u.value.find(b=>b.id===parseInt(d))&&!P.find(b=>b.id===parseInt(d))&&P.push(u.value.find(b=>b.id===parseInt(d)))})}),P}function nt(p,w,m){let P=[],$=Object.keys(p.entitiesRelations),B=m&&m.location?m.location.split(",").map(s=>parseInt(s)):null,u=x(B?p.unfilteredLocations.filter(s=>B.map(d=>parseInt(d)).includes(s.id)):p.unfilteredLocations);return w.bookable.forEach(s=>{s.locations.length?s.locations.forEach(d=>{u.value.find(b=>b.id===d.id)&&!P.find(b=>b.id===d.id)&&P.push(u.value.find(b=>b.id===d.id))}):$.forEach(d=>{u.value.forEach(b=>{d in p.entitiesRelations&&s.service.id in p.entitiesRelations[d]&&p.entitiesRelations[d][s.service.id].indexOf(b.id)!==-1&&u.value.find(L=>L.id===b.id)&&!P.find(L=>L.id===parseInt(b.id))&&P.push(u.value.find(L=>L.id===b.id))})})}),P}function kt(p,w,m=null,P=null){let $=[];return p.categories.forEach(B=>{let u=ta(w,B,p,m,P);B.serviceIdList=u,B.packageList=[],p.packages.forEach(s=>{u.forEach(d=>{s.bookable.filter(b=>b.service.id===d).length&&!B.packageList.filter(b=>b===s.id).length&&s.available&&s.status==="visible"&&!ui(p,s)&&di(p,s,w)&&B.packageList.push(s.id)})}),B.status==="visible"&&B.serviceList.length&&!!u.length&&(w.show==="packages"?!!B.packageList.length:!0)&&$.push(B)}),$}const mi={class:"am-fcl__item-inner"},pi={class:"am-fcl__item-name"},_i={class:"am-fcl__item-segments"},vi={key:0,class:"am-fcl__item-segments__item"},fi=a("span",{class:"am-fcl__item-segments__item-icon am-icon-service"},null,-1),gi={class:"am-fcl__item-segments__item-count"},yi={key:1,class:"am-fcl__item-segments__item"},hi=a("span",{class:"am-fcl__item-segments__item-icon am-icon-shipment"},null,-1),bi={class:"am-fcl__item-segments__item-count"},ki={class:"am-fcl__item-footer"},Ci=["src"],$i={class:"am-empty__heading"},wi={class:"am-empty__subheading"},Si={class:"am-empty__text"},xi={key:0},Pi={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Ii={key:1},Ei={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},Di={name:"CategoriesList",key:"categoriesList"},Li=Object.assign(Di,{setup(p){const w=A("baseUrls");let m=x(null),P=x(0);window.addEventListener("resize",$);function $(){m.value&&(P.value=m.value.offsetWidth)}Re(()=>{m.value&&(P.value=m.value.offsetWidth)});let B=h(()=>P.value<=500?"am-w100":P.value<=600?"am-w50":P.value<=768?"am-w33":""),{nextPage:u}=A("changingPageFunctions",{nextPage:()=>{}});const s=A("settings");let d=at(),b=A("amEntities"),L=A("customizedDataForm"),k=h(()=>L.value.categoriesList.options);const I=A("shortcodeData"),f=h(()=>d.getters["entities/getPreselected"]);let U=A("availableCategories"),te=h(()=>U.value),D=A("categorySelected");function F(be){D.value=be,d.commit("booking/setCategoryId",parseInt(be)),_t(d,{},"SelectCategory","appointment",null,null),u()}let c=h(()=>te.value.length===0);const q=A("labels"),ne=A("localLanguage");let J=h(()=>s.general.usedLanguages.includes(ne.value)),pe=h(()=>{let be=it(tt({},q));if(s.customizedData&&s.customizedData.cbf&&s.customizedData.cbf.categoriesList.translations){let oe=s.customizedData.cbf.categoriesList.translations;Object.keys(oe).forEach(v=>{oe[v][ne.value]&&J.value?be[v]=oe[v][ne.value]:oe[v].default&&(be[v]=oe[v].default)})}return be}),$e=A("amColors"),V=h(()=>({"--am-c-fcl-card-text-op80":ae($e.value.colorCardText,.8)}));return(be,oe)=>e(c)?(t(),i("div",{key:1,ref_key:"ameliaContainer",ref:m,class:"am-empty"},[a("img",{src:e(w).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,Ci),a("div",$i,l(e(pe).oops),1),a("div",wi,l(e(f).show!=="packages"?e(pe).no_services_employees:e(pe).no_package_services),1),a("div",Si,[e(f).show!=="packages"?(t(),i("span",xi,l(e(pe).add_services_employees)+"\xA0 ",1)):r("",!0),a("a",Pi,l(e(pe).add_services_url)+"\xA0 ",1),e(f).show!=="packages"?(t(),i("span",Ii,l(e(pe).and)+"\xA0 ",1)):r("",!0),e(f).show!=="packages"?(t(),i("a",Ei,l(e(pe).add_employees_url),1)):r("",!0)])],512)):(t(),i("div",{key:0,ref_key:"ameliaContainer",ref:m,class:"am-fcl",style:re(e(V))},[(t(!0),i(K,null,ge(e(te),v=>(t(),i("div",{key:v.id,class:O(["am-fcl__item",e(B)])},[a("div",mi,[a("div",{class:"am-fcl__item-content",style:re(e(k).cardSideColor.visibility?{borderLeft:"7px solid",borderLeftColor:v.color}:{})},[a("div",{class:"am-fcl__item-heading",style:re(e(k).cardColor&&e(k).cardColor.visibility?{backgroundColor:e(ae)(v.color,.1)}:{})},[v.pictureFullPath?(t(),i("div",{key:0,style:re({backgroundImage:`url(${v.pictureFullPath})`}),class:"am-fcl__item-hero"},null,4)):r("",!0),a("div",pi,l(v.name),1),a("div",_i,[(!e(f).show||e(f).show==="services")&&e(k).services.visibility?(t(),i("div",vi,[fi,a("span",gi,l(e(ta)(e(I),v,e(b)).length),1)])):r("",!0),(!e(f).show||e(f).show==="packages")&&v.packageList.length&&e(k).packages.visibility?(t(),i("div",yi,[hi,a("span",bi,l(v.packageList.length),1)])):r("",!0)])],4),a("div",ki,[Y(Ae,{class:"am-fcl__item-btn",size:"mini",category:"secondary",type:e(k).cardButton.buttonType,suffix:e(ga),onClick:fe=>F(v.id)},{default:N(()=>[de(l(e(pe).view_all),1)]),_:2},1032,["type","suffix","onClick"])])],4)])],2))),128))],4))}});const Ti=a("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),Bi=a("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Fi=["href"],zi={class:"am-fs-sb__step-wrapper"},Ai={class:"am-fs-sb__step-inner"},Ri={class:"am-fs-sb__step-icon"},Mi={key:0,class:"am-icon-check"},Oi={key:0},Ni={key:1},Vi={key:1},Ui={key:0,class:"am-fs-sb__step"},Wi={class:"am-fs-sb__step-inner"},ji={class:"am-fs-sb__step-icon"},Hi={key:0,class:"am-icon-check"},qi={key:0,class:"am-fs-sb__support"},Gi=["href"],Ji={key:1,class:"am-icon-phone"},Yi=["href"],Qi={key:1,class:"am-icon-email"},Xi={key:0,class:"am-fs-sb__menu-text"},Zi={key:2,class:"am-no-services"},Ki=["src"],es={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},ts={style:{"font-size":"14px"}},as={href:"https://wpamelia.com/employees/",rel:"nofollow"},is={name:"CategoryBooking"},Wt=Object.assign(is,{props:{newBooking:{type:Boolean,default:!1},showCart:{type:Boolean,default:!1}},emits:["addToCart","emptiedCart"],setup(p,{emit:w}){const m=p;let P=x(null),$=x();se("containerWidth",$);let B=x(!1);window.addEventListener("resize",u);function u(){P.value&&($.value=P.value.offsetWidth)}Re(()=>{xe(()=>{P.value&&($.value=P.value.offsetWidth)}),_t(c,{containerWidth:$},"ContainerWidth","appointment",null,null)});const s=A("settings"),d=s.customizedData?s.customizedData.sbsNew:ot.sbsNew;d&&se("amCustomize",d);let b=h(()=>{let o={heading:!0,phone:!0,email:!0};return"supportHeading"in d.sidebar.options&&(o.heading=d.sidebar.options.supportHeading.visibility),"companyPhone"in d.sidebar.options&&(o.phone=d.sidebar.options.companyPhone.visibility),"companyEmail"in d.sidebar.options&&(o.email=d.sidebar.options.companyEmail.visibility),o});const L=x(s.customizedData?s.customizedData.fonts:ot.fonts);se("amFonts",L);let k=x(!1);se("sidebarCollapsed",k);let I=x(""),f=A("bookingDialogWidth");Ct(k,o=>{o?setTimeout(()=>{I.value="am-collapsed",setTimeout(()=>{f.value="592px"},200)},1e3):(I.value="",f.value="760px")}),Re(()=>{d.sidebar.options.self.visibility||(f.value="520px")});let U=x(null),te=x(0);Re(()=>{setTimeout(()=>{xe(()=>{U.value&&setTimeout(()=>{U.value&&(te.value=U.value.offsetHeight)},200)})},800)});let D=x(d.sidebar?d.sidebar.options.self.visibility:!0);const F=A("baseUrls"),c=at();let q=h(()=>{let o=c.getters["entities/getOriginalPreselected"],y={category:c.state.booking.appointment.categoryId?[c.state.booking.appointment.categoryId]:[],counter:c.state.entities.preselected.counter,employee:c.state.booking.appointment.providerId?[c.state.booking.appointment.providerId]:[],hasApiCall:c.state.entities.preselected.hasApiCall,location:c.state.booking.appointment.locationId?[c.state.booking.appointment.locationId]:[],service:c.state.booking.appointment.serviceId?[c.state.booking.appointment.serviceId]:[],package:c.state.booking.packageId?[c.state.booking.packageId]:[],show:c.state.booking.appointment.type==="package"?"packages":"services",trigger:""};return Object.keys(o).forEach(E=>{E in y||(y[E]=o[E])}),y});c.commit("entities/setPreselected",q.value);let ne=A("restoreFormData");const J=Se(ya),pe=Se(ha),$e=Se(ba),V=Se(ka),be=Se(Ca),oe=Se($a),v=Se(wa),fe=Se(Sa),we=Se(xa),_e=Se(Pa),ve=Se(Ia),ee=Se(Ea),Le=Se(Da),Te=Se(La),_=x(Je(c)?[J,oe,_e,ve,we]:[J,oe,ve,we]);se("stepsArray",_);const Q=A("labels"),G=A("localLanguage");let M=h(()=>s.general.usedLanguages.includes(G.value)),Be=Bt(c),ie=h(()=>{let o=it(tt({},Q));return s.customizedData&&Object.keys(s.customizedData.sbsNew).forEach(y=>{if(y!=="colors"&&s.customizedData.sbsNew[y].translations){let E=s.customizedData.sbsNew[y].translations;Object.keys(E).forEach(X=>{E[X][G.value]&&M.value?o[X]=E[X][G.value]:E[X].default&&(o[X]=E[X].default)})}}),o});se("amLabels",ie);let We=h(()=>{let o={};if(s.customizedData){let y=s.customizedData.sbsNew[_.value[C.value].key]?s.customizedData.sbsNew[_.value[C.value].key].translations:null;s.customizedData&&y&&Object.keys(y).forEach(E=>{y[E][G.value]&&M.value?o[E]=y[E][G.value]:y[E].default&&(o[E]=y[E].default)})}return Object.keys(o).length?o:Q}),Fe=h(()=>{let o="filled";return s.customizedData&&s.customizedData.sbsNew[_.value[C.value].key]&&(o=s.customizedData.sbsNew[_.value[C.value].key].options.primaryFooterButton.buttonType),o});se("primFooterBtnType",Fe),se("primDescBtnType",Fe);let Z=h(()=>{let o="text";return s.customizedData&&s.customizedData.sbsNew[_.value[C.value].key]&&s.customizedData.sbsNew[_.value[C.value].key].options.secondaryFooterButton&&(o=s.customizedData.sbsNew[_.value[C.value].key].options.secondaryFooterButton.buttonType),o}),W=h(()=>s.customizedData&&s.customizedData.sbsNew.cartStep?s.customizedData.sbsNew.cartStep.options.addToCart.buttonType:"text"),z=h(()=>s.customizedData&&s.customizedData.sbsNew.cartStep?s.customizedData.sbsNew.cartStep.options.backToCart.buttonType:"text");function ce(o,y){let E="";if(s.customizedData){let X=s.customizedData.sbsNew[y]?s.customizedData.sbsNew[y].translations:null;s.customizedData&&X&&X[o]&&(E===""&&X[o][G.value]&&M.value?E=X[o][G.value]:E===""&&X[o].default&&(E=X[o].default))}return E||Q[o]}let Ee=h(()=>Ta(c.getters["entities/getEmployeeServices"](c.getters["booking/getSelection"])));function Ne(){let o=c.getters["entities/getPreselected"];if(o.show==="packages")o.package.length>0&&(_.value.splice(0,1),j.value.splice(0,1),De()),le();else{S();let y=c.getters["entities/filteredEmployees"](c.getters["booking/getSelection"]).length<=1,E=!d.initStep.options.employee.visibility,X=c.getters["entities/filteredLocations"](c.getters["booking/getSelection"]).length<=1,Ie=!d.initStep.options.location.visibility;o.service.length>0&&(o.employee.length>0||y||E)&&(o.location.length>0||X||Ie)&&(Ee.value.availability?(_.value.splice(0,1,Te),j.value.splice(0,1)):(_.value.splice(0,1),j.value.splice(0,1)),le())}}function Pe(o,y,E,X){o.value.map((He,Ze)=>y.includes(He.name)?Ze:null).filter(He=>He!==null).reverse().forEach(He=>{o.value.splice(He,1)});let Ge={value:X};E.forEach(He=>{o.value.indexOf(He)===-1&&(c.getters["entities/getPreselected"].show==="packages"&&c.getters["entities/getPreselected"].package.length>0?o.value.splice(Ge.value,0,He):o.value.splice(Ge.value+1,0,He))})}se("goToPackageStep",{goToPackageStep:et});function et(o){c.commit("booking/setPackageId",o.id),c.commit("booking/setBookableType","package"),c.commit("booking/setMultipleAppointments",It(0,o)),c.commit("booking/setMultipleAppointmentsIndex",0);let y=o.bookable.reduce((Ie,Ge)=>Ie+Ge.maximumScheduled,0),E=[],X=[];_.value[0]!==pe&&E.push("ExtrasStep"),_.value[0]!==oe&&E.push("DateTimeStep"),_.value[0]!==_e&&E.push("CartStep"),y>0?X=X.concat([fe,v,$e]):X.push($e),Pe(_,E,X,C.value),Pe(j,E,[],C.value),le(),lt()}function De(){let y=c.state.entities.packages.find(Ie=>Ie.id===c.getters["booking/getPackageId"]).bookable.reduce((Ie,Ge)=>Ie+Ge.maximumScheduled,0),E=[],X=[];_.value.find(Ie=>Ie.name==="ExtrasStep")&&E.push("ExtrasStep"),_.value.find(Ie=>Ie.name==="DateTimeStep")&&E.push("DateTimeStep"),y>0?X=X.concat([fe,v,$e]):X.push($e),Pe(_,E,X,C.value),Pe(j,E,[],C.value),le(),lt()}function st(){c.commit("booking/setBookableType","appointment"),c.commit("booking/setMultipleAppointments",[{packageId:null,serviceId:null,index:0,services:{}}]),c.commit("booking/setPackageId",null),c.commit("booking/setMultipleAppointmentsIndex",0),pt(c);let o=[];_.value[0]!==oe&&(Je(c)&&o.push(_e),o.push(oe)),_.value[0]!==pe&&T.value&&T.value.length&&o.push(pe),Pe(_,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],o,C.value-1),Pe(j,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],[],C.value),le()}se("goToRecurringStep",{goToRecurringStep:dt}),se("removeRecurringStep",{removeRecurringStep:H});function dt(){Je(c)&&na();let o=0;for(let y=0;y<_.value.length;y++)if(_.value[y].name==="DateTimeStep"){o=y;break}_.value.splice(o+1,0,V),_.value.splice(o+2,0,be),le(),lt()}function H(){for(let o=_.value.length-1;o>=0;o--)(_.value[o].name==="RecurringStep"||_.value[o].name==="RecurringSummary")&&_.value.splice(o+1,1);Je(c)&&la(C.value),le()}let T=h(()=>{let o=c.getters["entities/getService"](c.getters["booking/getServiceId"]);return o?o.extras:[]});function S(){T.value.length&&!_.value.find(o=>o.name==="ExtrasStep")&&(_.value.splice(C.value+1,0,pe),le()),j.value.find(o=>o.name==="ExtrasStep")&&!Object.keys(T.value).length&&(_.value.splice(1,1),j.value.splice(1,1)),m.showCart||pt(c)}se("initDataChanges",{changeInitStepDataService:S});const C=x(0);se("stepIndex",C);let Qe=A("stepName",x(""));Ct(C,(o,y)=>{o<j.value.length&&(j.value[y].selected=!1,j.value[o].selected=!0),o===j.value.length&&(j.value[y].selected=!1),Qe.value=_.value[o].name});let Me=x(!1);se("goBackToPackageBooking",Me);function ft(){n(!1),ye.value||(_.value[C.value].name===$e.name&&st(),_.value[C.value].name===V.name&&(_.value.splice(C.value,2),j.value.splice(C.value,2),Je(c)&&(_.value.splice(C.value,0,_e),Pe(j,[],[],C.value),le())),_.value[C.value].name===fe.name&&(Me.value=!0),C.value=C.value-1),ke.value=!ke.value}function lt(){ye.value||(j.value[C.value].finished=!0,C.value=C.value+1)}let gt=h(()=>c.getters["entities/getReady"]),yt=h(()=>c.getters["booking/getLoading"]),Xe=h(()=>c.getters["booking/getBooked"]),Et=h(()=>c.getters["booking/getPaymentGateway"]),mt=x(!1),ht=x(!1),ke=x(!1);function Dt(){mt.value=!0}function Lt(){mt.value=!1}function R(){ke.value=!0}function g(){ke.value=!1}function n(o){ht.value=o}function me(){Xe.value&&(Xe.value.customerCabinetUrl?window.location.href=Xe.value.customerCabinetUrl:window.location.href=s.roles.customerCabinet.pageUrl)}se("secondButton",{secondButtonClick:me});let ye=x(!1);se("changingStepsFunctions",{nextStep:lt,previousStep:ft,footerButtonClick:Dt,footerButtonReset:Lt,footerBtnDisabledUpdater:n,headerButtonPreviousClick:R,headerButtonPreviousReset:g,footerBtnDisabled:ht,footerButtonClicked:mt,headerButtonPreviousClicked:ke,navigateInsideStep:ye});const j=x([]);se("sidebarSteps",j);function qe(o){j.value[C.value].stepSelectedData.filter(y=>y.reference===o.reference).length?j.value[C.value].stepSelectedData.forEach((y,E,X)=>{y.reference===o.reference&&o.value&&o.value!==y.value&&(y.value=o.value),y.reference===o.reference&&!o.value&&X.splice(E,1)}):o.value&&j.value[C.value].stepSelectedData.push(o),j.value[C.value].stepSelectedData.sort((y,E)=>y.position-E.position)}function je(){_.value.forEach((o,y)=>{if(o.name!=="CongratulationsStep"){let E=o.sidebarData.label,X={name:o.name,key:o.key,label:ie.value[E],labelKey:E,icon:o.sidebarData.icon,stepSelectedData:[],finished:!1,selected:y===C.value};j.value.splice(y,0,X)}})}Mt(()=>{je(),Ne()}),Re(()=>{switch(c.getters["booking/getBookableType"]){case"appointment":m.showCart||pt(c);break}if(m.showCart&&Qt(_,C),ne.value){_.value.splice(0,_.value.length),j.value.splice(0,j.value.length),C.value=0,ne.value.steps.forEach(y=>{switch(y){case"packageStep":_.value.push(Le);break;case"bringingAnyone":_.value.push(Te);break;case"initStep":_.value.push(J);break;case"packageInfoStep":_.value.push($e);break;case"packageAppointmentsStep":_.value.push(v);break;case"packageAppointmentsListStep":_.value.push(fe);break;case"extrasStep":_.value.push(pe);break;case"dateTimeStep":_.value.push(oe);break;case"recurringStep":_.value.push(V);break;case"recurringSummary":_.value.push(be);break;case"cartStep":_.value.push(_e);break;case"infoStep":_.value.push(ve);break;case"paymentStep":_.value.push(ee);break;case"congratulations":_.value.push(we);break}let E=ne.value.sidebar.find(X=>X.key===y);le(),typeof E!="undefined"&&E.data&&E.data.forEach(X=>{qe({reference:X.reference,position:X.position,value:X.value})}),C.value++}),c.commit("booking/setLoading",!1);let o=-1;ne.value.result==="success"?o=_.value.length-1:(ne.value.result==="error"||ne.value.result==="canceled")&&(o=_.value.length-2);for(let y=0;y<=o;y++)_.value[y].finished=!0;for(let y=0;y<=o-1;y++)j.value[y].finished=!0,j.value[y].selected=!1;(ne.value.result==="error"||ne.value.result==="canceled")&&(j.value[o].finished=!1,j.value[o].selected=!0),C.value=o}});function le(){_.value.forEach((o,y)=>{if(o.name!=="CongratulationsStep"&&!j.value.find(E=>E.labelKey===o.sidebarData.label)){let E=o.sidebarData.label,X={name:o.name,key:o.key,label:ie.value[E],labelKey:E,icon:o.sidebarData.icon,stepSelectedData:[],finished:!1,selected:y===C.value};j.value.splice(y,0,X)}})}se("sidebarStepsFunctions",{sidebarDataCollector:qe}),se("addPaymentsStep",{addPaymentsStep:jt}),se("removePaymentsStep",{removePaymentsStep:Ht});function jt(){_.value.splice(_.value.length-1,0,ee),le()}function Ht(){let o=["PaymentStep"];Pe(_,o,[],C.value),Pe(j,o,[],C.value)}function la(o){Pe(_,[],[_e],o),Pe(j,[],[],o)}function na(){Pe(_,["CartStep"],[],C.value),Pe(j,["CartStep"],[],C.value)}function oa(){if(c.getters["entities/getPreselected"].show==="packages"){let y=c.getters["booking/getPackageId"]?[c.getters["entities/getPackage"](c.getters["booking/getPackageId"])]:c.getters["entities/getPackages"];return y.length>0&&y.filter(E=>E.price>0).length===y.length}if(!c.getters["booking/getPackageId"]){let y=c.getters["booking/getServiceId"]?[c.getters["entities/getService"](c.getters["booking/getServiceId"])]:c.getters["entities/getServices"],E=0;for(let X of y){let Ie=c.getters["booking/getEmployeeId"]?c.getters["entities/getEmployee"](c.getters["booking/getEmployeeId"])?[c.getters["entities/getEmployee"](c.getters["booking/getEmployeeId"])]:[]:c.getters["entities/getEmployees"],Ge=c.getters["booking/getBookingDuration"];if(Ie.filter(Ze=>Ze.serviceList.find(Ve=>Ve.id===X.id&&(Ve.price>0||Ve.customPricing&&Ve.customPricing.enabled&&(Object.values(Ve.customPricing.durations).length===Object.values(Ve.customPricing.durations).filter(Tt=>Tt.price>0).length||Ge&&Ve.customPricing.durations[Ge].price>0)))).length===Ie.filter(Ze=>Ze.serviceList.find(Ve=>Ve.id===X.id)).length)E++;else{let Ze=c.getters["booking/getSelectedExtras"].length?c.getters["booking/getSelectedExtras"]:[];Ze.length>0&&Ze.reduce((Ve,Tt)=>Ve+Tt.price,0)>0&&E++}}return y.length>0&&E===y.length}return c.getters["entities/getPackage"](c.getters["booking/getPackageId"]).price>0}let ca=h(()=>Bt(c).length?Ba(c)!==0:oa());Fa(()=>{let o=Bt(c);!o[0].serviceId&&Object.keys(o[0].services).length===0&&w("emptiedCart"),!ne.value&&!ca.value?Ht():ne.value||_.value.indexOf(ee)===-1&&jt()},{flush:"post"});function ra(){j.value.forEach(o=>{o.finished=!1,o.selected=!1}),_.value.forEach(o=>{o.finished=!1,o.selected=!1}),C.value=0,ea(c,!0),Va(c),pt(c),w("addToCart")}function ua(){let o=c.getters["booking/getCurrentCartItem"],y=c.getters["booking/getAllMultipleAppointments"];o?(c.commit("booking/setCartItem",o),c.commit("booking/setCartItemIndex",y.length-1),c.commit("booking/setCurrentCartItem",null)):(y.pop(),c.commit("booking/setCartItemIndex",y.length-1),c.commit("booking/setServiceId",y[y.length-1].serviceId),c.commit("booking/setEmployeeId",y[y.length-1].services[y[y.length-1].serviceId].providerId),c.commit("booking/setLocationId",y[y.length-1].services[y[y.length-1].serviceId].locationId)),Qt(_,C)}let Ce=h(()=>s.customizedData?s.customizedData.sbsNew.colors:ot.sbsNew.colors);se("amColors",Ce);let da=h(()=>({"--am-c-primary":Ce.value.colorPrimary,"--am-c-success":Ce.value.colorSuccess,"--am-c-error":Ce.value.colorError,"--am-c-warning":Ce.value.colorWarning,"--am-c-main-bgr":Ce.value.colorMainBgr,"--am-c-main-heading-text":Ce.value.colorMainHeadingText,"--am-c-main-text":Ce.value.colorMainText,"--am-c-sb-bgr":Ce.value.colorSbBgr,"--am-c-sb-text":Ce.value.colorSbText,"--am-c-inp-bgr":Ce.value.colorInpBgr,"--am-c-inp-border":Ce.value.colorInpBorder,"--am-c-inp-text":Ce.value.colorInpText,"--am-c-inp-placeholder":Ce.value.colorInpPlaceHolder,"--am-c-drop-bgr":Ce.value.colorDropBgr,"--am-c-drop-text":Ce.value.colorDropText,"--am-c-btn-prim":Ce.value.colorBtnPrim,"--am-c-btn-prim-text":Ce.value.colorBtnPrimText,"--am-c-btn-sec":Ce.value.colorBtnSec,"--am-c-btn-sec-text":Ce.value.colorBtnSecText,"--am-c-skeleton-op20":ae(Ce.value.colorMainText,.2),"--am-c-skeleton-op60":ae(Ce.value.colorMainText,.6),"--am-font-family":L.value.fontFamily,"--am-mw-main":D.value?k.value?"592px":"760px":"520px","--am-brad-main":D.value?"0 0.5rem 0.5rem 0":"0.5rem"}));function ma(){let o=document.head||document.getElementsByTagName("head")[0];o.querySelector("#amCustomFont")&&o.querySelector("#amCustomFont").remove();let y=`@font-face {font-family: '${L.value.fontFamily}'; src: url(${L.value.fontUrl});}`,E=document.createElement("style");o.appendChild(E),E.setAttribute("type","text/css"),E.setAttribute("id","amCustomFont"),E.appendChild(document.createTextNode(y))}L.value.customFontSelected&&ma();let pa=h(()=>({colorInputBorderRadius:"6px"}));return se("amDesignProperties",pa),Re(()=>{Zt("renderForm",{ameliaContainer:P,containerWidth:$,empty:B,amCustomize:d,amFonts:L,sidebarCollapsed:k,sidebarCollapseItemsClass:I,sidebarFooterRef:U,sidebarFooterHeight:te,sidebarVisibility:D})}),(o,y)=>(t(),i(K,null,[L.value.customFontSelected?r("",!0):(t(),i(K,{key:0},[Ti,Bi,a("link",{rel:"stylesheet",type:"text/css",href:`${e(F).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Fi)],64)),e(B)?(t(),i("div",Zi,[a("img",{src:e(F).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",style:{"margin-top":"10px"}},null,8,Ki),a("h1",null,l(e(ie).oops),1),a("h3",null,l(e(ie).no_services_employees),1),a("p",null,l(e(ie).add_services_employees),1),a("a",es,l(e(ie).add_services_url)+"\xA0 ",1),a("span",ts,l(e(ie).and)+"\xA0",1),a("a",as,l(e(ie).add_employees_url),1)])):(t(),i("div",{key:1,id:"amelia-container",ref_key:"ameliaContainer",ref:P,class:O(["am-fs__wrapper",{"am-collapsed":e(k)}]),style:re(e(da))},[e($)>560&&e(D)?(t(),he(Ra,{key:0,class:O(["am-fs-sb",{"am-collapsed":e(k)}]),style:re({width:e(k)?"72px":"240px",paddingBottom:`${e(te)+16}px`})},{"step-list":N(()=>[a("div",zi,[_.value[C.value]!==e(we)||!e(s).general.addToCalendar||e(Xe)&&e(Xe).data.length===0?(t(!0),i(K,{key:0},ge(j.value,E=>(t(),i("div",{key:E.key,class:"am-fs-sb__step"},[a("div",Ai,[a("div",Ri,[a("span",{class:O(`am-icon-${E.icon}`)},null,2),E.key==="cartStep"&&e(Ue)(e(c))!==0?(t(),i("span",{key:0,class:O(["am-fs-sb__step-icon__number",e(I)])},l(e(Ue)(e(c))),3)):r("",!0)]),Y(Ye,{name:"fade"},{default:N(()=>[e(k)?r("",!0):(t(),i("p",{key:0,class:O(["am-fs-sb__step-heading",e(I)])},l(E.label),3))]),_:2},1024),a("div",{class:O(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":E.selected},e(I)]])},[Y(Ye,{name:"fade"},{default:N(()=>[E.finished?(t(),i("span",Mi)):r("",!0)]),_:2},1024)],2)]),Y(za,{tag:"span",name:"fade",appear:"",class:O(["am-fs-sb__step-selection__wrapper",{"am-fs-sb__step-selection-packages":E.key===e(v).key&&E.stepSelectedData.length>3}])},{default:N(()=>[e(k)?r("",!0):(t(!0),i(K,{key:0},ge(E.stepSelectedData,(X,Ie)=>(t(),i("p",{key:X.position,class:"am-fs-sb__step-selection"},[E.key!==e(v).key||Ie<3?(t(),i("span",Oi,l(X.value),1)):(t(),i("span",Ni,l(e(ie).plus_more),1))]))),128))]),_:2},1032,["class"])]))),128)):(t(),i("div",Vi,[Y(Ye,{name:"fade"},{default:N(()=>[e(k)?r("",!0):(t(),he(Aa,{key:0}))]),_:1}),e(k)?(t(),i("div",Ui,[a("div",Wi,[a("div",ji,[a("span",{class:O(`am-icon-${_.value[C.value].sidebarData.icon}`)},null,2)]),a("div",{class:O(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":_.value[C.value].sidebarData.selected},e(I)]])},[Y(Ye,{name:"fade"},{default:N(()=>[_.value[C.value].sidebarData.finished?(t(),i("span",Hi)):r("",!0)]),_:1})],2)])])):r("",!0)]))])]),"support-info":N(()=>[a("div",{ref_key:"sidebarFooterRef",ref:U,class:"am-fs-sb__footer"},[(e(s).company.email||e(s).company.phone)&&(e(b).heading||e(b).phone||e(b).email)?(t(),i("div",qi,[Y(Ye,{name:"fade"},{default:N(()=>[!e(k)&&e(b).heading?(t(),i("div",{key:0,class:O(["am-fs-sb__support-heading",e(I)])},l(e(ie).get_in_touch),3)):r("",!0)]),_:1}),e(s).company.phone&&e(b).phone?(t(),i("a",{key:0,class:"am-fs-sb__support-email",href:`tel:${e(s).company.phone}`},[e(k)?(t(),i("span",Ji)):(t(),i(K,{key:0},[de(l(e(s).company.phone),1)],64))],8,Gi)):r("",!0),e(s).company.email&&e(b).email?(t(),i("a",{key:1,class:"am-fs-sb__support-email",href:`mailto:${e(s).company.email}`},[e(k)?(t(),i("span",Qi)):(t(),i(K,{key:0},[de(l(e(s).company.email),1)],64))],8,Yi)):r("",!0)])):r("",!0),a("div",{class:O(["am-fs-sb__menu",e(I)]),onClick:y[0]||(y[0]=E=>ue(k)?k.value=!e(k):k=!e(k))},[Y(Ye,{name:"fade"},{default:N(()=>[e(k)?r("",!0):(t(),i("span",Xi,l(e(ie).collapse_menu),1))]),_:1}),a("span",{class:O(`am-icon-arrow-circle-${e(k)?"left":"right"}`)},null,2)],2)],512)]),_:1},8,["class","style"])):r("",!0),Y(Na,null,Ot({step:N(()=>[(t(),he(Kt(_.value[C.value]),{"global-class":"am-fs__main-content"}))]),footer:N(()=>[Y(e(Oa),{"second-button-show":_.value[C.value]===e(we)&&e(s).roles.customerCabinet.enabled&&e(s).roles.customerCabinet.pageUrl!==null,"add-to-cart-button-show":e(Je)(e(c))&&_.value[C.value]===e(_e),"back-to-cart-button-show":e(Je)(e(c))&&e(Be).length>1&&_.value[C.value]!==e(_e)&&_.value[C.value]!==e(ve)&&_.value[C.value]!==e(ee)&&_.value[C.value]!==e(we),booked:e(Xe),loading:e(yt),ready:e(gt),"payment-gateway":e(Et),"customized-labels":e(We),"primary-footer-button-type":e(Fe),"secondary-footer-button-type":e(Z),"add-to-cart-button-type":e(W),"back-to-cart-button-type":e(z),"back-to-cart-label":ce("cancel","cartStep"),onAddToCart:ra,onBackToCart:ua},null,8,["second-button-show","add-to-cart-button-show","back-to-cart-button-show","booked","loading","ready","payment-gateway","customized-labels","primary-footer-button-type","secondary-footer-button-type","add-to-cart-button-type","back-to-cart-button-type","back-to-cart-label"])]),_:2},[_.value[C.value]!==e(we)?{name:"header",fn:N(()=>[Y(Ma,{"sidebar-visible":e(D),ready:e(gt)},null,8,["sidebar-visible","ready"])])}:void 0]),1024)],6))],64))}});const ss={class:"am-fcil__filter-buttons"},ls={class:"am-fcil__filter"},ns={class:"am-fcil__filter-item__btn-wrapper"},os={class:"am-fcil__heading"},cs={key:0,class:"am-fcil__item-badge__wrapper"},rs={class:"am-fcil__item-badge am-package"},us=a("span",{class:"am-icon-shipment"},null,-1),ds={class:"am-fcil__item-heading"},ms={class:"am-fcil__item-name"},ps={key:0,class:"am-fcil__item-cost"},_s={key:0,class:"am-fcil__item-discount"},vs={class:"am-fcil__item-price"},fs={key:1,class:"am-fcil__item-price"},gs={class:"am-fcil__item-info"},ys={key:0,class:"am-fcil__item-info__inner"},hs=a("span",{class:"am-icon-folder"},null,-1),bs={key:1,class:"am-fcil__item-info__inner"},ks=a("span",{class:"am-icon-clock"},null,-1),Cs={key:0},$s={key:1},ws={key:2},Ss={key:2,class:"am-fcil__item-info__inner"},xs=a("span",{class:"am-icon-user"},null,-1),Ps=a("span",null,"1/1",-1),Is=[xs,Ps],Es={key:3,class:"am-fcil__item-info__inner"},Ds=a("span",{class:"am-icon-locations"},null,-1),Ls={key:2,class:"am-fcil__item-services"},Ts={key:0,class:"am-fcil__item-badge__wrapper"},Bs={class:"am-fcil__item-badge am-service"},Fs=a("span",{class:"am-icon-service"},null,-1),zs={class:"am-fcil__item-heading"},As={class:"am-fcil__item-name"},Rs={key:0,class:"am-fcil__item-cost"},Ms={key:0,class:"am-fcil__item-price"},Os={key:1,class:"am-fcil__item-price"},Ns={class:"am-fcil__item-info"},Vs={key:0,class:"am-fcil__item-info__inner"},Us=a("span",{class:"am-icon-folder"},null,-1),Ws={key:1,class:"am-fcil__item-info__inner"},js=a("span",{class:"am-icon-clock"},null,-1),Hs={key:2,class:"am-fcil__item-info__inner"},qs=a("span",{class:"am-icon-user"},null,-1),Gs={key:3,class:"am-fcil__item-info__inner"},Js=a("span",{class:"am-icon-locations"},null,-1),Ys={class:"am-fcil-employee__header"},Qs={class:"am-fcil-employee__heading"},Xs={class:"am-fcil-employee__heading-left"},Zs={class:"am-fcil-employee__name"},Ks={key:0,class:"am-fcil-employee__heading-right"},el={class:"am-fcil-employee__price"},tl=["innerHTML"],al={key:1,ref:"ameliaContainer",class:"am-empty"},il=["src"],sl={class:"am-empty__heading"},ll={class:"am-empty__subheading"},nl={class:"am-empty__text"},ol={key:0},cl={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},rl={key:1},ul={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},dl={name:"CategoryItemsList",key:"categoryItemsList"},ml=Object.assign(dl,{setup(p){let w=A("licence"),{nextPage:m,previousPage:P}=A("changingPageFunctions",{nextPage:()=>{},previousPage:()=>{}});const $=A("baseUrls");let B=x(!1),u=x(!1),s=x("760px");se("bookingDialogWidth",s);function d(){s.value="760px"}let b=x(!1),L=x(),k=A("containerWidth"),I=A("customizedDataForm"),f=h(()=>I.value.categoryItemsList.options),U=h(()=>"pageScroll"in f.value?f.value.pageScroll.visibility:!0);const te=A("settings");let D=at();const F=A("shortcodeData"),c=h(()=>D.getters["entities/getPreselected"]);let q=h(()=>{let R=Array.isArray(F.value.category)?F.value.category:F.value.category.split(",");return R=R.filter(g=>g),R.length}),ne=h(()=>{let R=L.value&&L.value.catContainerWidth?L.value.catContainerWidth>768:!0;return q.value!==1&&f.value.sidebar.visibility&&R}),J=A("amEntities"),pe=h(()=>Je(D)&&Ue(D)>0),$e=h(()=>Ue(D));const V=A("labels"),be=A("localLanguage");let oe=h(()=>te.general.usedLanguages.includes(be.value)),v=h(()=>{let R=it(tt({},V));if(te.customizedData&&te.customizedData.cbf&&te.customizedData.cbf.categoryItemsList.translations){let g=te.customizedData.cbf.categoryItemsList.translations;Object.keys(g).forEach(n=>{g[n][be.value]&&oe.value?R[n]=g[n][be.value]:g[n].default&&(R[n]=g[n].default)})}return R}),fe=x(""),we={components:{IconComponent:Pt},template:'<IconComponent icon="search"/>'},_e=x(!0),ve={components:{IconComponent:Pt},template:'<IconComponent icon="filter"/>'},ee=h(()=>L.value&&L.value.catHeaderWidth?L.value.catHeaderWidth:0);window.addEventListener("resize",Le);function Le(){xe(()=>{ee.value>480&&(_e.value=!0)})}Re(()=>{Le()});function Te(R){let g=[];return fe.value.toLowerCase().split(" ").forEach(n=>{g.push(R.toLowerCase().includes(n))}),g.filter(n=>n===!1).length<=0}let _=A("availableCategories"),Q=h(()=>{let R=[..._.value],g=[];return R.forEach(n=>{g.push({id:n.id,name:n.name})}),g.unshift({id:0,name:v.value.filter_all}),g}),G=A("categorySelected"),M=h(()=>kt(J.value,F.value,We.value,Fe.value)),Be=h(()=>{let R=[];return M.value.find(g=>g.id===G.value)?J.value.packages.forEach(g=>{M.value.find(n=>n.id===G.value).packageList.forEach(n=>{g.id===n&&(fe.value?Te(g.name):!0)&&R.push(g)})}):J.value.packages.forEach(g=>{M.value.forEach(n=>{n.packageList.forEach(me=>{g.id===me&&!R.find(ye=>ye.id===me)&&(fe.value?Te(g.name):!0)&&R.push(g)})})}),R}),ie=h(()=>{let R=[];return G.value&&M.value.find(g=>g.id===G.value)?J.value.services.forEach(g=>{M.value.find(n=>n.id===G.value).serviceIdList.forEach(n=>{g.id===n&&(fe.value?Te(g.name):!0)&&R.push(g)})}):J.value.services.forEach(g=>{M.value.forEach(n=>{n.serviceIdList.forEach(me=>{g.id===me&&(fe.value?Te(g.name):!0)&&R.push(g)})})}),R}),We=x(null),Fe=x(null),Z=x(!0),W=x(!0);function z(R){R==="all"&&(Z.value=!0,W.value=!0),R==="packages"&&(Z.value=!0,W.value=!1),R==="services"&&(Z.value=!1,W.value=!0)}Mt(()=>{c.value.show&&z(c.value.show)});let ce=h(()=>{let R=F.value.employee,g=J.value.employees.length,n=F.value.location,me=J.value.locations.length,ye=f.value.searchInput.visibility,j=f.value.filterEmployee.visibility&&R.length!==1&&g>1&&!w.isLite,qe=f.value.filterLocation.visibility&&n.length!==1&&me>1&&!w.isLite&&!w.isStarter,je=f.value.filterButtons.visibility&&c.value.show!=="packages"&&c.value.show!=="services"&&Be.value.length!==0&&ie.value.length!==0&&!Ue(D),le={search:"am-w30",employee:"am-w20",location:"am-w20",buttons:"am-w30",category:"am-w100"};return ee.value>992?!ye||!je?(le.employee=!ye&&!je?"am-w50":"am-w35",le.location=!ye&&!je?"am-w50":"am-w35",le.search=!je&&!qe&&!j?"am-w100":"am-w30",j||(le.location=!ye&&!je?"am-w100":"am-w70"),qe||(le.employee=!ye&&!je?"am-w100":"am-w70")):(j||(le.location="am-w40"),qe||(le.employee="am-w40"),!j&&!qe&&(le.search="am-w70")):ee.value>768||ee.value>480?(le.search=je?"am-w50 am-tablet am-order1":"am-w100 am-tablet am-order1",le.buttons=ye?"am-w50 am-tablet am-order2":"am-w100 tablet am-order2",le.employee=qe?"am-w50 am-tablet am-order3":"am-w100 am-tablet am-order3",le.location=j?"am-w50 am-tablet am-order4":"am-w100 am-tablet am-order4",le.category="am-w100 am-tablet am-order5"):(le.employee="am-w100 am-mobile",le.location="am-w100 am-mobile",le.search="am-w100 am-mobile",le.buttons="am-w100 am-mobile",le.category="am-w100 am-mobile"),le}),Ee=h(()=>L.value&&L.value.catContainerWidth?L.value.catContainerWidth:0),Ne=h(()=>{let R=Be.value.length&&!Ue(D)?Be.value.length:0,g=ie.value.length>1?v.value.heading_services:v.value.heading_service,n=R?R>1?v.value.packages:v.value.package:"";if(!ie.value.length&&!R)return v.value.no_search_data;if(W.value&&(!Z.value||!R))return`${v.value.available} - ${ie.value.length} ${g}`;if((!W.value||!ie.value.length)&&Z.value)return`${v.value.available} - ${R} ${n}`;let me=R?"/":"";return`${v.value.available} - ${ie.value.length} ${g} ${me} ${R} ${n}`});Re(()=>{xe(()=>{B.value=Be.value.length===0&&ie.value.length===0})});function Pe(R){const g=R.id===0?null:R.id;G.value=g,D.commit("booking/setCategoryId",g)}let et=A("itemType");function De(R){D.commit("booking/setServiceId",parseInt(R)),D.commit("booking/setBookableType","appointment"),et.value="appointment",_t(D,{},"SelectService","appointment",null,null),xe(()=>{m()})}function st(R){D.commit("booking/setServiceId",null),D.commit("booking/setPackageId",R.id),D.commit("booking/setBookableType","package"),D.commit("booking/setMultipleAppointments",It(0,R)),D.commit("booking/setCartItemIndex",0),et.value="package",_t(D,{},"SelectPackage","package",null,null),xe(()=>{m()})}function dt(){G.value=null,D.commit("booking/setCategoryId",null),P()}function H(){Rt(D),b.value=!0,u.value=!0}let T=x(!1),S=x(""),C=x([]),Qe=x({}),Me=x(null);function ft(){S.value="",C.value=[],Qe.value={},Me.value=null}function lt(R){C.value=sa(J.value,R,F.value),Qe.value=R,T.value=!0}function gt(R){let g=[];Object.keys(J.value.entitiesRelations).forEach(me=>{me in J.value.entitiesRelations&&R in J.value.entitiesRelations[me]&&J.value.employees.find(ye=>ye.id===parseInt(me))&&g.push(J.value.employees.find(ye=>ye.id===parseInt(me)))}),C.value=g,S.value="service",T.value=!0,Me.value=R}function yt(R){let g=J.value.services.find(me=>me.id===Me.value).price,n=R.serviceList.find(me=>me.id===Me.value).price;return n!==g?`${n-g>0?g>0?"+":"":"-"} ${Ke(n-g)}`:0}function Xe(){S.value==="service"?De(Me.value):st(Qe.value),ft()}function Et(R,g){let n="";return R>1?(g==="day"&&(n=v.value.expires_days),g==="week"&&(n=v.value.expires_weeks),g==="month"&&(n=v.value.expires_months)):(g==="day"&&(n=v.value.expires_day),g==="week"&&(n=v.value.expires_week),g==="month"&&(n=v.value.expires_month)),n}function mt(R,g){return ze(R,g).length===1?ze(R,g)[0].address?ze(R,g)[0].address:ze(R,g)[0].name:v.value.multiple_locations}let ht=A("amFonts",x({fontFamily:"Amelia Roboto, sans-serif",fontUrl:"",customFontFamily:"",fontFormat:"",customFontSelected:!1})),ke=A("amColors"),Dt=h(()=>({"--am-c-fcil-text-op-10":ae(ke.value.colorSbText,.1),"--am-c-fcil-main-text-op15":ae(ke.value.colorMainText,.15),"--am-c-fcil-card-text-op15":ae(ke.value.colorCardText,.15),"--am-c-fcil-card-text-op80":ae(ke.value.colorCardText,.8),"--am-c-fcil-primary-op20":ae(ke.value.colorPrimary,.2),"--am-c-fcil-success-op20":ae(ke.value.colorSuccess,.2),"--am-c-fcil-filter-text-op10":ae(ke.value.colorInpText,.1),"--am-w-fcil-main":_.value.length!==1&&q.value!==1&&f.value.sidebar.visibility&&ne.value?"calc(100% - 220px)":"100%","--am-w-fcil-card":L.value&&L.value.catFormWidth<580?"100%":"50%"})),Lt=h(()=>({"--am-f-fcil-employee-f":ht.value.fontFamily,"--am-c-fcil-employee-bgr":ke.value.colorMainBgr,"--am-c-fcil-employee-heading":ke.value.colorMainHeadingText,"--am-c-fcil-employee-text":ke.value.colorMainText,"--am-c-fcil-employee-text-op80":ae(ke.value.colorMainText,.8),"--am-c-fcil-employee-text-op15":ae(ke.value.colorMainText,.15),"--am-c-fcil-employee-primary":ke.value.colorPrimary,"--am-c-fcil-employee-primary-op10":ae(ke.value.colorPrimary,.1),"--am-c-inp-border":ke.value.colorInpBorder,"--am-c-main-text":ke.value.colorMainText}));return(R,g)=>e(B)?(t(),i("div",al,[a("img",{src:e($).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",alt:"Empty"},null,8,il),a("div",sl,l(e(v).oops),1),a("div",ll,l(e(c).show!=="packages"?e(v).no_services_employees:e(v).no_package_services),1),a("div",nl,[e(c).show!=="packages"?(t(),i("span",ol,l(e(v).add_services_employees)+"\xA0 ",1)):r("",!0),a("a",cl,l(e(v).add_services_url)+"\xA0 ",1),e(c).show!=="packages"?(t(),i("span",rl,l(e(v).and)+"\xA0 ",1)):r("",!0),e(c).show!=="packages"?(t(),i("a",ul,l(e(v).add_employees_url),1)):r("",!0)])],512)):(t(),he(Ut,{key:0,ref_key:"contentRef",ref:L,"wrapper-class":`am-fcil ${e(k)<481?"am-mobile":""}`,"form-class":`am-fcil__main ${e(k)<481?"am-mobile":""}`,"content-class":`am-fcil__wrapper ${e(k)<481?"am-mobile":""} ${e(U)?"":"no-scroll"}`,style:re(e(Dt))},Ot({header:N(()=>[a("span",ss,[e(q)!==1&&!e(F).categories_hidden&&e(_).length!==1?(t(),he(Vt,{key:0,"btn-size":e(ee)<481?"medium":"mini","btn-string":e(v).back_btn,"btn-type":e(f).backBtn.buttonType,"cart-btn-visibility":e(pe),"cart-items-number":e($e),onGoBack:dt,onGoToCart:H},null,8,["btn-size","btn-string","btn-type","cart-btn-visibility","cart-items-number"])):r("",!0),e(ee)<481?(t(),he(Ae,{key:1,size:"medium",category:"secondary",type:e(f).filterMenuBtn.buttonType,"custom-class":"am-fcil__filter-buttons__menu","icon-only":!0,icon:e(ve),onClick:g[0]||(g[0]=()=>ue(_e)?_e.value=!e(_e):_e=!e(_e))},null,8,["type","icon"])):r("",!0)]),a("div",ls,[e(f).searchInput.visibility?(t(),i("div",{key:0,class:O(["am-fcil__filter-item",e(ce).search])},[Y(Ua,{modelValue:e(fe),"onUpdate:modelValue":g[1]||(g[1]=n=>ue(fe)?fe.value=n:fe=n),placeholder:e(v).filter_input,"icon-start":e(we)},null,8,["modelValue","placeholder","icon-start"])],2)):r("",!0),Y(Ye,{name:"slide-fade"},{default:N(()=>[e(F).employee.length!==1&&e(J).employees.length>1&&e(f).filterEmployee.visibility&&e(_e)&&!e(w).isLite?(t(),i("div",{key:0,class:O(["am-fcil__filter-item",e(ce).employee])},[Y(Ft,{modelValue:e(We),"onUpdate:modelValue":g[2]||(g[2]=n=>ue(We)?We.value=n:We=n),clearable:"",filterable:"",placeholder:e(v).filter_employee,"fit-input-width":!0},{default:N(()=>[(t(!0),i(K,null,ge(e(J).employees,n=>(t(),he(zt,{key:n.id,value:n.id,label:`${n.firstName} ${n.lastName}`},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])],2)):r("",!0)]),_:1}),Y(Ye,{name:"slide-fade"},{default:N(()=>[e(F).location.length!==1&&e(J).locations.length>1&&e(f).filterLocation.visibility&&e(_e)&&!e(w).isLite&&!e(w).isStarter?(t(),i("div",{key:0,class:O(["am-fcil__filter-item",e(ce).location])},[Y(Ft,{modelValue:e(Fe),"onUpdate:modelValue":g[3]||(g[3]=n=>ue(Fe)?Fe.value=n:Fe=n),clearable:"",filterable:"",placeholder:e(v).filter_location,"fit-input-width":!0},{default:N(()=>[(t(!0),i(K,null,ge(e(J).locations,n=>(t(),he(zt,{key:n.id,value:n.id,label:n.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])],2)):r("",!0)]),_:1}),Y(Ye,{name:"slide-fade"},{default:N(()=>[e(_).length!==1&&e(q)!==1&&e(f).sidebar.visibility&&!e(ne)&&e(_e)?(t(),i("div",{key:0,class:O(["am-fcil__filter-item am-w100",e(ce).category])},[Y(Ft,{modelValue:e(G),"onUpdate:modelValue":g[4]||(g[4]=n=>ue(G)?G.value=n:G=n),clearable:!1,filterable:!1,placeholder:"","fit-input-width":!0},{default:N(()=>[(t(!0),i(K,null,ge(e(Q),n=>(t(),he(zt,{key:n.id,value:n.id,label:n.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])],2)):r("",!0)]),_:1}),!e(c).show&&e(f).filterButtons.visibility&&e(Be).length!==0&&e(ie).length!==0&&!e(Ue)(e(D))?(t(),i("div",{key:1,class:O(["am-fcil__filter-item",e(ce).buttons])},[a("div",ns,[a("div",{class:O(["am-fcil__filter-item__btn",{"am-active":e(Z)&&e(W)}]),onClick:g[5]||(g[5]=n=>z("all"))},[a("span",null,l(e(v).filter_all),1)],2),a("div",{class:O(["am-fcil__filter-item__btn",{"am-active":e(Z)&&!e(W)}]),onClick:g[6]||(g[6]=n=>z("packages"))},[a("span",null,l(e(v).filter_packages),1)],2),a("div",{class:O(["am-fcil__filter-item__btn",{"am-active":!e(Z)&&e(W)}]),onClick:g[7]||(g[7]=n=>z("services"))},[a("span",null,l(e(v).filter_services),1)],2)])],2)):r("",!0)])]),heading:N(()=>[a("div",os,l(e(Ne)),1)]),content:N(()=>[e(Z)&&!e(Ue)(e(D))?(t(!0),i(K,{key:0},ge(e(Be),n=>{var me,ye;return t(),i("div",{key:n.id,class:O(["am-fcil__item",{"am-mobile":e(Ee)<481}])},[a("div",{class:O(["am-fcil__item-inner",{"am-mobile":e(Ee)<481}])},[a("div",{class:"am-fcil__item-content",style:re(e(f).cardColor&&e(f).cardColor.visibility?{backgroundColor:e(ae)(n.color,.1)}:{})},[e(f).packageBadge.visibility?(t(),i("div",cs,[a("div",rs,[us,a("span",null,l(e(v).package),1)])])):r("",!0),n.pictureFullPath?(t(),i("div",{key:1,class:"am-fcil__item-hero",style:re({backgroundImage:`url(${n.pictureFullPath})`})},null,4)):r("",!0),a("div",ds,[a("div",ms,l(n.name),1),e(f).packagePrice.visibility?(t(),i("div",ps,[n.discount?(t(),i("span",_s,l(`${e(v).save} ${n.discount}%`),1)):r("",!0),a("span",vs,l(n.price?e(Ke)(e(Nt)(n)):e(v).free),1),n.price&&((ye=(me=e(f).tax)==null?void 0:me.visibility)!=null?ye:!0)&&e(vt)(e(D),n.id,"package")?(t(),i("span",fs,[e(te).payments.taxes.excluded?(t(),i(K,{key:0},[de(l(`+${e(v).total_tax_colon}`),1)],64)):(t(),i(K,{key:1},[de(l(e(v).incl_tax),1)],64))])):r("",!0)])):r("",!0)]),a("div",gs,[e(f).packageCategory.visibility&&e(G)?(t(),i("div",ys,[hs,a("span",null,l(e(_).find(j=>j.id===e(G)).name),1)])):r("",!0),e(f).packageDuration.visibility?(t(),i("div",bs,[ks,n.endDate?(t(),i("span",Cs,l(`${e(v).expires_at} ${n.endDate.split(" ")[0]}`),1)):n.durationCount?(t(),i("span",$s,l(`${e(v).expires_after} ${n.durationCount} ${Et(n.durationCount,n.durationType)}`),1)):(t(),i("span",ws,l(e(v).without_expiration),1))])):r("",!0),e(f).packageCapacity.visibility?(t(),i("div",Ss,Is)):r("",!0),e(nt)(e(J),n,e(F)).length&&e(f).packageLocation.visibility?(t(),i("div",Es,[Ds,a("span",null,l(e(nt)(e(J),n,e(F)).length===1?e(nt)(e(J),n,e(F))[0].address?e(nt)(e(J),n,e(F))[0].address:e(nt)(e(J),n,e(F))[0].name:e(v).multiple_locations),1)])):r("",!0)]),e(f).packageServices.visibility?(t(),i("div",Ls,[a("span",null,l(`${e(v).in_package}:`),1),(t(!0),i(K,null,ge(n.bookable,j=>(t(),i("span",{key:j.id},l(j.service.name),1))),128))])):r("",!0)],4),a("div",{class:O(["am-fcil__item-footer",[{"am-mobile":e(Ee)<481},{"am-micro":e(Ee)<320}]])},[e(f).cardEmployeeBtn.visibility?(t(),he(Ae,{key:0,class:O({"am-w100":e(Ee)<320}),size:"small",type:e(f).cardEmployeeBtn.buttonType,onClick:j=>lt(n)},{default:N(()=>[de(l(e(v).view_employees),1)]),_:2},1032,["class","type","onClick"])):r("",!0),Y(Ae,{class:O([{"am-w100":!e(f).cardEmployeeBtn.visibility},{"am-micro am-w100":e(Ee)<320}]),size:"small",type:e(f).cardContinueBtn.buttonType,onClick:j=>st(n)},{default:N(()=>[de(l(e(v).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2)}),128)):r("",!0),e(W)?(t(!0),i(K,{key:1},ge(e(ie),n=>{var me,ye;return t(),i("div",{key:n.id,class:O(["am-fcil__item",{"am-mobile":e(Ee)<481}])},[a("div",{class:O(["am-fcil__item-inner",{"am-mobile":e(Ee)<481}])},[a("div",{class:"am-fcil__item-content",style:re(e(f).cardColor&&e(f).cardColor.visibility?{backgroundColor:e(ae)(n.color,.1)}:{})},[e(f).serviceBadge.visibility?(t(),i("div",Ts,[a("div",Bs,[Fs,a("span",null,l(e(v).heading_service),1)])])):r("",!0),n.pictureFullPath?(t(),i("div",{key:1,class:"am-fcil__item-hero",style:re({backgroundImage:`url(${n.pictureFullPath})`})},null,4)):r("",!0),a("div",zs,[a("div",As,l(n.name),1),e(f).servicePrice.visibility?(t(),i("div",Rs,[e(rt)(e(J),n.id).min||e(rt)(e(J),n.id).max?(t(),i("span",Ms,l(e(rt)(e(J),n.id).price),1)):r("",!0),((ye=(me=e(f).tax)==null?void 0:me.visibility)!=null?ye:!0)&&e(vt)(e(D),n.id,"service")?(t(),i("span",Os,[e(te).payments.taxes.excluded?(t(),i(K,{key:0},[de(l(`+${e(v).total_tax_colon}`),1)],64)):(t(),i(K,{key:1},[de(l(e(v).incl_tax),1)],64))])):r("",!0)])):r("",!0)]),a("div",Ns,[e(f).serviceCategory.visibility&&e(G)?(t(),i("div",Vs,[Us,a("span",null,l(e(_).find(j=>j.id===e(G)).name),1)])):r("",!0),e(f).serviceDuration.visibility?(t(),i("div",Ws,[js,a("span",null,l(e(ia)(n.duration)),1)])):r("",!0),e(f).serviceCapacity.visibility&&!e(w).isLite?(t(),i("div",Hs,[qs,a("span",null,l(e(aa)(e(J),n.id)),1)])):r("",!0),e(ze)(e(J),n.id).length&&e(f).serviceLocation.visibility?(t(),i("div",Gs,[Js,a("span",null,l(mt(e(J),n.id)),1)])):r("",!0)])],4),a("div",{class:O(["am-fcil__item-footer",[{"am-mobile":e(Ee)<481},{"am-micro":e(Ee)<320}]])},[e(f).cardEmployeeBtn.visibility&&!e(w).isLite?(t(),he(Ae,{key:0,class:O({"am-w100":e(Ee)<320}),size:"small",type:e(f).cardEmployeeBtn.buttonType,onClick:j=>gt(n.id)},{default:N(()=>[de(l(e(v).view_employees),1)]),_:2},1032,["class","type","onClick"])):r("",!0),Y(Ae,{class:O([{"am-w100":!e(f).cardEmployeeBtn.visibility},{"am-micro am-w100":e(Ee)<320}]),size:"small",type:e(f).cardContinueBtn.buttonType,onClick:j=>De(n.id)},{default:N(()=>[de(l(e(v).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2)}),128)):r("",!0),Y(ut,{modelValue:e(T),"onUpdate:modelValue":g[9]||(g[9]=n=>ue(T)?T.value=n:T=n),"append-to-body":!0,"modal-class":"am-fcil-employee","destroy-on-close":!0,"lock-scroll":!0,"custom-styles":e(Lt),width:"648px",onClose:ft},{title:N(()=>[a("div",Ys,l(e(v).employee_info),1)]),default:N(()=>[a("div",null,[Y($t,null,{default:N(()=>[(t(!0),i(K,null,ge(e(C),(n,me)=>(t(),he(wt,{key:me,side:""},{heading:N(()=>[a("div",Qs,[a("div",Xs,[Y(ct,{"item-class":"am-fcil-employee__img","item-data":n,"trim-string":2},null,8,["item-data"]),a("div",Zs,[de(l(`${n.firstName} ${n.lastName}`)+" ",1),n.badge?(t(),i("span",{key:0,style:re({background:n.badge.color}),class:"am-fcil-employee__badge"},l(n.badge.content),5)):r("",!0)])]),e(S)==="service"&&yt(n)!==0?(t(),i("div",Ks,[a("div",el,l(yt(n)),1)])):r("",!0)])]),default:N(()=>[e(Oe)(n.description)?(t(),i("div",{key:0,class:O(["am-fcil-employee__text",{"ql-description":n.description.includes("<!-- Content -->")}]),innerHTML:n.description},null,10,tl)):r("",!0)]),_:2},1024))),128))]),_:1})])]),footer:N(()=>[e(f).dialogEmployeeBtn.visibility?(t(),he(Ae,{key:0,type:e(f).dialogEmployeeBtn.buttonType,category:"primary",onClick:g[8]||(g[8]=n=>Xe())},{default:N(()=>[de(l(e(S)==="service"?e(v).book_service:e(v).book_package),1)]),_:1},8,["type"])):r("",!0)]),_:1},8,["modelValue","custom-styles"]),Y(ut,{modelValue:e(u),"onUpdate:modelValue":g[10]||(g[10]=n=>ue(u)?u.value=n:u=n),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(s),onClosed:d},{default:N(()=>[Y(Wt,{"show-cart":e(b)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:2},[e(_).length!==1&&e(q)!==1&&e(f).sidebar.visibility&&e(ne)?{name:"side",fn:N(()=>[Y(oi,{"menu-items":e(Q),"init-selection":e(G),identifier:"id","name-identifier":"name","footer-string":e(v).get_in_touch,"company-email":e(te).company.email,onClick:Pe},null,8,["menu-items","init-selection","footer-string","company-email"])])}:void 0]),1032,["wrapper-class","form-class","content-class","style"]))}});const pl={class:"am-fcis__header-text"},_l={class:"am-fcis__header-name"},vl={key:0,class:"am-fcis__badge am-service"},fl=a("span",{class:"am-icon-service"},null,-1),gl={class:"am-fcis__header-action"},yl={key:0,class:"am-fcis__header-price"},hl={key:1,class:"am-fcis__header-tax"},bl={class:"am-fcis__header-btn"},kl={key:0,class:"am-fcis__header-bottom"},Cl={class:"am-fcis__mini-info"},$l={key:0,class:"am-fcis__mini-info__inner"},wl=a("span",{class:"am-icon-folder"},null,-1),Sl={key:1,class:"am-fcis__mini-info__inner"},xl=a("span",{class:"am-icon-clock"},null,-1),Pl={key:2,class:"am-fcis__mini-info__inner"},Il=a("span",{class:"am-icon-user"},null,-1),El={key:3,class:"am-fcis__mini-info__inner"},Dl=a("span",{class:"am-icon-locations"},null,-1),Ll={key:0,class:"am-fcis__gallery"},Tl={key:0,class:"am-fcis__gallery-thumb__wrapper"},Bl={class:"am-gd__display-wrapper"},Fl={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},zl=["src","alt"],Al={class:"am-gd__selection"},Rl={class:"am-gd__thumb-wrapper"},Ml=["onClick"],Ol={key:1,class:"am-fcis__info"},Nl={class:"am-fcis__info-tab__wrapper"},Vl={class:"am-fcis__info-content__wrapper"},Ul={key:0,class:"am-fcis__info-content"},Wl=["innerHTML"],jl={key:1,class:"am-fcis__info-content"},Hl={class:"am-fcis__info-employee__hero"},ql={class:"am-fcis__info-employee__heading"},Gl={class:"am-fcis__info-employee__name"},Jl={key:0,class:"am-fcis__info-employee__price"},Yl=["innerHTML"],Ql={key:2,class:"am-fcis__include-wrapper"},Xl={class:"am-fcis__include-heading"},Zl={class:"am-fcis__include-heading__text"},Kl=["onClick"],en={class:"am-fcis__include-hero"},tn={key:0,class:"am-fcis__include-cost"},an={key:0,class:"am-fcis__include-discount"},sn={class:"am-fcis__include-price"},ln={key:1,class:"am-fcis__include-price"},nn={class:"am-fcis__include-info"},on={key:0,class:"am-fcis__include-info__inner"},cn=a("span",{class:"am-icon-folder"},null,-1),rn={key:1,class:"am-fcis__include-info__inner"},un=a("span",{class:"am-icon-clock"},null,-1),dn={key:0},mn={key:1},pn={key:2},_n={key:2,class:"am-fcis__include-info__inner"},vn=a("span",{class:"am-icon-user"},null,-1),fn=a("span",null,"1/1",-1),gn=[vn,fn],yn={key:3,class:"am-fcis__include-info__inner"},hn=a("span",{class:"am-icon-locations"},null,-1),bn={key:4,class:"am-fcis__include-info__inner am-fcis__include-info__services"},kn={key:1,ref:"ameliaContainer",class:"am-empty"},Cn=["src"],$n={class:"am-empty__heading"},wn={class:"am-empty__subheading"},Sn={class:"am-empty__text"},xn={key:0},Pn={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},In={key:1},En={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},Dn={name:"CategoryService"},Ln=Object.assign(Dn,{setup(p){let w=A("licence"),{previousPage:m}=A("changingPageFunctions",{previousPage:()=>{}}),P=h(()=>U.getters["entities/getReady"]);const $=A("baseUrls");let B=x(),u=A("containerWidth");const s=A("settings");let d=A("amFonts");const b=A("labels"),L=A("localLanguage");let k=h(()=>s.general.usedLanguages.includes(L.value)),I=h(()=>{let H=it(tt({},b));if(s.customizedData&&s.customizedData.cbf&&s.customizedData.cbf.categoryService.translations){let T=s.customizedData.cbf.categoryService.translations;Object.keys(T).forEach(S=>{T[S][L.value]&&k.value?H[S]=T[S][L.value]:T[S].default&&(H[S]=T[S].default)})}return H}),f=x(0),U=at(),te=A("amEntities"),D=h(()=>Je(U)&&Ue(U)>0),F=h(()=>Ue(U)),c=A("customizedDataForm"),q=h(()=>c.value.categoryService.options),ne=h(()=>"pageScroll"in q.value?q.value.pageScroll.visibility:!0),J=A("itemType"),pe=A("categorySelected"),$e=h(()=>te.value.categories.find(H=>H.id===pe.value)),V=h(()=>{let H=te.value.services.find(T=>T.id===U.getters["booking/getServiceId"]);return H||{}});function be(H,T){return ze(H,T).length===1?ze(H,T)[0].address?ze(H,T)[0].address:ze(H,T)[0].name:I.value.multiple_locations}let oe=x("description"),v=h(()=>{let H=[];return Object.keys(te.value.entitiesRelations).forEach(S=>{te.value.entitiesRelations[S][V.value.id]&&te.value.employees.find(C=>C.id===parseInt(S))&&H.push(te.value.employees.find(C=>C.id===parseInt(S)))}),H});function fe(H){let T=H.serviceList.find(S=>S.id===V.value.id).price;return T-V.value.price!==0?`${T-V.value.price>0?V.value.price>0?"+":"":"-"} ${Ke(T-V.value.price)}`:""}Re(()=>{q.value.serviceDescription.visibility||(oe.value="employees"),Oe(V.value.description)||(oe.value="employees")});let we=h(()=>{let H=V.value.gallery.length?JSON.parse(JSON.stringify(V.value.gallery)):[];return V.value.gallery.length===1?[]:(H.shift(),H.length>2&&H.splice(2,H.length-2),H)}),_e=h(()=>{let H=[];return te.value.packages.forEach(T=>{T.bookable.filter(S=>S.service.id===V.value.id).length&&!H.filter(S=>S.id===T.id).length&&T.available&&T.status==="visible"&&H.push(T)}),H}),ve=x(!1),ee=h(()=>{let H=[..._e.value];return ve.value?H:H.slice(0,2)}),Le=h(()=>U.getters["entities/filteredLocations"](U.getters["booking/getSelection"]));function Te(){J.value="",xe(()=>{m()})}let _=x(!1);function Q(){Rt(U),_.value=!0,M.value=!0}function G(){M.value=!1,U.getters["entities/getPreselected"].service.length>1&&Te()}let M=x(!1),Be=x("760px");se("bookingDialogWidth",Be);function ie(){let H=U.getters["entities/getPreselected"];v.value.length===1&&(U.commit("booking/setEmployeeId",parseInt(v.value[0].id)),H.employee=[parseInt(v.value[0].id)],U.commit("entities/setPreselected",H)),_.value=!1,M.value=!1,Wa(U),ea(U,!1),pt(U);let T=ze(te.value,V.value.id);T.length===1&&(U.commit("booking/setLocationId",parseInt(T[0].id)),H.location=[parseInt(T[0].id)],U.commit("entities/setPreselected",H)),U.commit("booking/setBookableType","appointment"),M.value=!0}A("restoreFormData").value&&ie();function Fe(H){U.commit("booking/setPackageId",H.id),U.commit("booking/setBookableType","package"),U.commit("booking/setMultipleAppointments",It(0,H)),U.commit("booking/setMultipleAppointmentsIndex",0),v.value.length===1&&U.commit("booking/setEmployeeId",parseInt(v.value[0].id)),ze(te.value,V.value.id).length===1&&U.commit("booking/setLocationId",parseInt(ze(te.value,V.value.id)[0].id)),xe(()=>{M.value=!0})}const Z=h(()=>U.getters["entities/getPreselected"]);let W=h(()=>te.value.services.length!==1&&Z.value.service.length!==1),z=x("");se("stepName",z);function ce(){let H=U.getters["entities/getBookableFromBookableEntities"](U.getters["booking/getSelection"]),T=H.settings?JSON.parse(H.settings):s;"general"in T&&"redirectUrlAfterAppointment"in T.general&&T.general.redirectUrlAfterAppointment?window.location.href=T.general.redirectUrlAfterAppointment:s.general.redirectUrlAfterAppointment?window.location.href=s.general.redirectUrlAfterAppointment:window.location.reload()}function Ee(){if(z.value&&z.value==="CongratulationsStep")ce();else{if(z.value&&z.value==="DateTimeStep"){let H=ja(U);H&&console.log(H)}U.commit("booking/setEmployeeId",null),U.commit("booking/setLocationId",null),U.commit("entities/setPreselected",U.getters["entities/getOriginalPreselected"])}Be.value="760px"}let Ne=x(!1);function Pe(H,T){let S="";return H>1?(T==="day"&&(S=I.value.expires_days),T==="week"&&(S=I.value.expires_weeks),T==="month"&&(S=I.value.expires_months)):(T==="day"&&(S=I.value.expires_day),T==="week"&&(S=I.value.expires_week),T==="month"&&(S=I.value.expires_month)),S}let et=h(()=>Object.keys(V.value).length===0||v.value.length===0),De=A("amColors"),st=h(()=>({"--am-c-fcis-success-op20":ae(De.value.colorSuccess,.2),"--am-c-fcis-primary-op20":ae(De.value.colorPrimary,.2),"--am-c-fcis-text-op80":ae(De.value.colorMainText,.8),"--am-c-fcis-text-op03":ae(De.value.colorMainText,.03),"--am-c-fcis-btn-op50":ae(De.value.colorBtnSec,.5)})),dt=h(()=>({"--am-c-fcis-bgr":De.value.colorMainBgr,"--am-c-fcis-text":De.value.colorMainText,"--am-c-fcis-success":De.value.colorSuccess,"--am-c-fcis-primary":De.value.colorPrimary,"--am-c-scroll-op30":ae(De.value.colorPrimary,.3),"--am-c-scroll-op10":ae(De.value.colorPrimary,.1),"--am-font-family":d.fontFamily}));return(H,T)=>e(P)?(t(),i(K,{key:0},[e(et)?r("",!0):(t(),he(Ut,{key:0,ref_key:"contentRef",ref:B,"wrapper-class":"am-fcis","form-class":"am-fcis__form","heading-class":"am-fcis__header","content-class":`am-fcis__content ${e(ne)?"":"no-scroll"}`,style:re(e(st))},{header:N(()=>[Y(Vt,{"btn-string":e(I).back_btn,"btn-type":e(q).backBtn.buttonType,"back-btn-visibility":e(W),"cart-btn-visibility":e(D),"cart-items-number":e(F),onGoBack:Te,onGoToCart:Q},null,8,["btn-string","btn-type","back-btn-visibility","cart-btn-visibility","cart-items-number"])]),heading:N(()=>{var S,C;return[a("div",{class:O([[{"am-tablet":e(u)<=678},{"am-mobile":e(u)<450}],"am-fcis__header-top"])},[a("div",pl,[a("span",_l,l(e(V).name),1),e(q).serviceBadge.visibility?(t(),i("div",vl,[fl,a("span",null,l(e(I).heading_service),1)])):r("",!0)]),a("div",gl,[e(q).servicePrice.visibility?(t(),i("span",yl,l(e(rt)(e(te),e(V).id).min||e(rt)(e(te),e(V).id).max?e(rt)(e(te),e(V).id).price:e(I).free),1)):r("",!0),((C=(S=e(q).tax)==null?void 0:S.visibility)!=null?C:!0)&&e(vt)(e(U),e(V).id,"service")?(t(),i("span",hl,[e(s).payments.taxes.excluded?(t(),i(K,{key:0},[de(l(`+${e(I).total_tax_colon}`),1)],64)):(t(),i(K,{key:1},[de(l(e(I).incl_tax),1)],64))])):r("",!0),a("span",bl,[Y(Ae,{type:e(q).bookingBtn.buttonType,onClick:ie},{default:N(()=>[de(l(e(I).book_now),1)]),_:1},8,["type"])])])],2),e(q).serviceCategory.visibility||e(q).serviceDuration.visibility||e(q).serviceCapacity.visibility||e(q).serviceLocation.visibility?(t(),i("div",kl,[a("div",Cl,[e(q).serviceCategory.visibility&&e($e)?(t(),i("div",$l,[wl,a("span",null,l(e($e).name),1)])):r("",!0),e(q).serviceDuration.visibility?(t(),i("div",Sl,[xl,a("span",null,l(e(ia)(e(V).duration)),1)])):r("",!0),e(q).serviceCapacity.visibility&&!e(w).isLite?(t(),i("div",Pl,[Il,a("span",null,l(e(aa)(e(te),e(V).id)),1)])):r("",!0),e(ze)(e(te),e(V).id).length&&e(q).serviceLocation.visibility&&!e(w).isLite&&!e(w).isStarter?(t(),i("div",El,[Dl,a("span",null,l(be(e(te),e(V).id)),1)])):r("",!0)])])):r("",!0)]}),content:N(()=>[e(V).gallery.length?(t(),i("div",Ll,[a("div",{class:O(["am-fcis__gallery-hero",[{w100:e(V).gallery.length===1},{"am-mobile w100":e(u)<678}]]),style:re({backgroundImage:`url(${e(V).gallery[0].pictureFullPath})`})},null,6),e(we).length&&e(u)>677?(t(),i("div",Tl,[(t(!0),i(K,null,ge(e(we),(S,C)=>(t(),i("div",{key:C,class:O(["am-fcis__gallery-thumb",{"am-one-thumb":e(we).length===1}]),style:re({backgroundImage:`url(${S.pictureFullPath})`})},null,6))),128))])):r("",!0),Y(Ae,{"custom-class":`am-fcis__gallery-btn${e(u)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:T[0]||(T[0]=()=>ue(Ne)?Ne.value=!0:Ne=!0)},{default:N(()=>[de(l(e(I).view_all_photos),1)]),_:1},8,["custom-class"])])):r("",!0),Y(ut,{modelValue:e(Ne),"onUpdate:modelValue":T[4]||(T[4]=S=>ue(Ne)?Ne.value=S:Ne=S),"modal-class":"amelia-v2-booking amelia-v2-sgd","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:N(()=>[a("div",{class:"am-gd",style:re(e(dt))},[a("div",Bl,[a("div",Fl,[a("span",{class:"am-icon-arrow-left",onClick:T[1]||(T[1]=()=>ue(f)?f.value=e(f)<=0?e(V).gallery.length-1:e(f)-1:f=e(f)<=0?e(V).gallery.length-1:e(f)-1)}),a("span",{class:"am-icon-arrow-right",onClick:T[2]||(T[2]=()=>ue(f)?f.value=e(V).gallery.length-1===e(f)?0:e(f)+1:f=e(V).gallery.length-1===e(f)?0:e(f)+1)})]),(t(!0),i(K,null,ge(e(V).gallery,(S,C)=>(t(),i("div",{key:C,class:"am-gd__display",style:re({display:C===e(f)?"flex":"none"}),onClick:T[3]||(T[3]=()=>ue(f)?f.value=e(V).gallery.length-1===e(f)?0:e(f)+1:f=e(V).gallery.length-1===e(f)?0:e(f)+1)},[a("img",{src:S.pictureFullPath,alt:C},null,8,zl)],4))),128))]),a("div",Al,l(`${e(f)+1}/${e(V).gallery.length}`),1),a("div",Rl,[(t(!0),i(K,null,ge(e(V).gallery,(S,C)=>(t(),i("div",{key:C,class:O(["am-gd__thumb",{"am-active":C===e(f)}]),style:re({backgroundImage:`url(${S.pictureFullPath})`}),onClick:()=>ue(f)?f.value=C:f=C},null,14,Ml))),128))])],4)]),_:1},8,["modelValue"]),e(q).serviceDescription.visibility&&e(Oe)(e(V).description)||e(q).serviceEmployees.visibility?(t(),i("div",Ol,[a("div",Nl,[e(Oe)(e(V).description)&&e(q).serviceDescription.visibility?(t(),i("div",{key:0,class:O(["am-fcis__info-tab",{"am-active":e(oe)==="description"}]),onClick:T[5]||(T[5]=()=>ue(oe)?oe.value="description":oe="description")},l(e(I).about_service),3)):r("",!0),e(q).serviceEmployees.visibility&&!e(w).isLite?(t(),i("div",{key:1,class:O([{"am-active":e(oe)==="employees"},"am-fcis__info-tab"]),onClick:T[6]||(T[6]=()=>ue(oe)?oe.value="employees":oe="employees")},l(e(I).tab_employees),3)):r("",!0)]),a("div",Vl,[e(Oe)(e(V).description)&&e(q).serviceDescription.visibility?St((t(),i("div",Ul,[a("div",{class:O(["am-fcis__info-service__desc",{"ql-description":e(V).description.includes("<!-- Content -->")}]),innerHTML:e(V).description},null,10,Wl)],512)),[[xt,e(oe)==="description"]]):r("",!0),e(q).serviceEmployees.visibility?St((t(),i("div",jl,[Y($t,null,{default:N(()=>[(t(!0),i(K,null,ge(e(v),S=>(t(),he(wt,{key:S.id,side:""},{heading:N(()=>[a("div",{class:O([{"am-mobile":e(u)<451},"am-fcis__info-employee"])},[a("div",Hl,[Y(ct,{"item-class":"am-fcis__info-employee__img","item-data":S,"trim-string":3},null,8,["item-data"]),a("div",ql,[a("div",Gl,[de(l(S.firstName)+" "+l(S.lastName)+" ",1),S.badge?(t(),i("span",{key:0,style:re({background:S.badge.color}),class:"am-fcis__info-employee__badge"},l(S.badge.content),5)):r("",!0)]),fe(S)&&e(q).serviceEmployeePrice.visibility?(t(),i("div",Jl,l(fe(S)),1)):r("",!0)])])],2)]),default:N(()=>[e(Oe)(S.description)?(t(),i("div",{key:0,class:O(["am-fcis__info-employee__description",{"ql-description":S.description.includes("<!-- Content -->")}]),innerHTML:S.description},null,10,Yl)):r("",!0)]),_:2},1024))),128))]),_:1})],512)),[[xt,e(oe)==="employees"]]):r("",!0)])])):r("",!0),e(_e).length&&e(Z).show!=="services"&&e(q).servicePackages.visibility&&!e(Ue)(e(U))?(t(),i("div",Ql,[a("div",Xl,[a("span",Zl,l(e(I).service_available_in_package),1),e(_e).length>2?(t(),i("span",{key:0,class:"am-fcis__include-heading__btn",onClick:T[7]||(T[7]=()=>ue(ve)?ve.value=!e(ve):ve=!e(ve))},[e(ve)?(t(),i(K,{key:1},[de(l(e(I).less_packages),1)],64)):(t(),i(K,{key:0},[de(l(e(I).more_packages),1)],64))])):r("",!0)]),(t(!0),i(K,null,ge(e(ee),S=>{var C,Qe;return t(),i("div",{key:S.id,class:"am-fcis__include",onClick:Me=>Fe(S)},[a("div",en,[e(u)>450?(t(),he(ct,{key:0,"item-class":"am-fcis__include-img","item-data":S,"trim-string":3},null,8,["item-data"])):r("",!0),a("div",{class:O([{"am-mobile":e(u)<451},"am-fcis__include-text"])},[a("div",{class:O(["am-fcis__include-header",{"am-mobile":e(u)<600}])},[a("div",{class:O(["am-fcis__include-name",{"am-mobile":e(u)<600}])},l(S.name),3),e(q).packagePrice.visibility?(t(),i("div",tn,[S.discount?(t(),i("span",an,l(`${e(I).save} ${S.discount}%`),1)):r("",!0),a("span",sn,l(S.price?e(Ke)(e(Nt)(S)):e(I).free),1),((Qe=(C=e(q).tax)==null?void 0:C.visibility)!=null?Qe:!0)&&e(vt)(e(U),S.id,"package")?(t(),i("span",ln,[e(s).payments.taxes.excluded?(t(),i(K,{key:0},[de(l(`+${e(I).total_tax_colon}`),1)],64)):(t(),i(K,{key:1},[de(l(e(I).incl_tax),1)],64))])):r("",!0)])):r("",!0)],2),a("div",nn,[e(q).packageCategory.visibility&&e($e)?(t(),i("div",on,[cn,a("span",null,l(e($e).name),1)])):r("",!0),e(q).packageDuration.visibility?(t(),i("div",rn,[un,S.endDate?(t(),i("span",dn,l(`${e(I).expires_at} ${S.endDate.split(" ")[0]}`),1)):S.durationCount?(t(),i("span",mn,l(`${e(I).expires_after} ${S.durationCount} ${Pe(S.durationCount,S.durationType)}`),1)):(t(),i("span",pn,l(e(I).without_expiration),1))])):r("",!0),e(q).packageCapacity.visibility?(t(),i("div",_n,gn)):r("",!0),e(q).packageLocation.visibility&&e(Le).length?(t(),i("div",yn,[hn,a("span",null,l(e(Le).length===1?e(Le)[0].address?e(Le)[0].address:e(Le)[0].name:e(I).multiple_locations),1)])):r("",!0),e(q).packageServices.visibility?(t(),i("div",bn,[a("span",null,l(`${e(I).in_package}:`),1),(t(!0),i(K,null,ge(S.bookable,Me=>(t(),i("span",{key:Me.id},l(Me.service.name),1))),128))])):r("",!0)])],2)])],8,Kl)}),128))])):r("",!0),Y(ut,{modelValue:e(M),"onUpdate:modelValue":T[9]||(T[9]=S=>ue(M)?M.value=S:M=S),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(Be),onClosed:Ee},{default:N(()=>[Y(Wt,{"show-cart":e(_),onAddToCart:G,onEmptiedCart:T[8]||(T[8]=S=>ue(M)?M.value=!1:M=!1)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:1},8,["content-class","style"])),e(et)?(t(),i("div",kn,[a("img",{src:e($).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,Cn),a("div",$n,l(e(I).oops),1),a("div",wn,l(e(Z).show!=="packages"?e(I).no_services_employees:e(I).no_package_services),1),a("div",Sn,[e(Z).show!=="packages"?(t(),i("span",xn,l(e(I).add_services_employees)+"\xA0 ",1)):r("",!0),a("a",Pn,l(e(I).add_services_url)+"\xA0 ",1),e(Z).show!=="packages"?(t(),i("span",In,l(e(I).and)+"\xA0 ",1)):r("",!0),e(Z).show!=="packages"?(t(),i("a",En,l(e(I).add_employees_url),1)):r("",!0)])],512)):r("",!0)],64)):r("",!0)}});const Tn={class:"am-fcip__header-text"},Bn={class:"am-fcip__header-name"},Fn={key:0,class:"am-fcip__badge am-package"},zn=a("span",{class:"am-icon-shipment"},null,-1),An={class:"am-fcip__header-action"},Rn={key:0,class:"am-fcip__header-discount"},Mn={key:1,class:"am-fcip__header-price"},On={key:2,class:"am-fcip__header-tax"},Nn={class:"am-fcip__header-btn"},Vn={key:0,class:"am-fcip__header-bottom"},Un={class:"am-fcip__mini-info"},Wn={key:0,class:"am-fcip__mini-info__inner"},jn=a("span",{class:"am-icon-folder"},null,-1),Hn={key:1,class:"am-fcip__mini-info__inner"},qn=a("span",{class:"am-icon-clock"},null,-1),Gn={key:0},Jn={key:1},Yn={key:2},Qn={key:2,class:"am-fcip__mini-info__inner"},Xn=a("span",{class:"am-icon-user"},null,-1),Zn=a("span",null,"1/1",-1),Kn=[Xn,Zn],eo={key:3,class:"am-fcip__mini-info__inner"},to=a("span",{class:"am-icon-locations"},null,-1),ao={key:0,class:"am-fcip__gallery"},io={key:0,class:"am-fcip__gallery-thumb__wrapper"},so=a("span",{class:"am-icon-gallery"},null,-1),lo={class:"am-gd__display-wrapper"},no={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},oo=["src","alt"],co={class:"am-gd__selection"},ro={class:"am-gd__thumb-wrapper"},uo=["onClick"],mo={key:1,class:"am-fcip__info"},po={class:"am-fcip__info-tab__wrapper"},_o={class:"am-fcip__info-content__wrapper"},vo={key:0,class:"am-fcip__info-content"},fo=["innerHTML"],go={key:1,class:"am-fcip__info-content"},yo={class:"am-fcip__info-employee"},ho={class:"am-fcip__info-employee__hero"},bo={class:"am-fcip__info-employee__name"},ko=["innerHTML"],Co={key:2,class:"am-fcip__include-wrapper"},$o={class:"am-fcip__include-heading"},wo={class:"am-fcip__include-heading__text"},So={class:"am-fcip__include-service"},xo={class:"am-fcip__include-service__info"},Po={key:0},Io=["innerHTML"],Eo={class:"am-fcip__include-footer"},Do={class:"am-fcip__include-footer__text"},Lo={key:1,ref:"ameliaContainer",class:"am-empty"},To=["src"],Bo={class:"am-empty__heading"},Fo={class:"am-empty__subheading"},zo={class:"am-empty__text"},Ao={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Ro={name:"CategoryPackage"},Mo=Object.assign(Ro,{setup(p){let{previousPage:w}=A("changingPageFunctions",{previousPage:()=>{}}),m=x(),P=A("containerWidth");const $=A("settings"),B=A("baseUrls");let u=at();const s=A("shortcodeData"),d=h(()=>u.getters["entities/getPreselected"]);let b=A("amEntities"),L=A("customizedDataForm"),k=h(()=>L.value.categoryPackage.options),I=h(()=>"pageScroll"in k.value?k.value.pageScroll.visibility:!0),f=A("itemType"),U=A("categorySelected"),te=h(()=>b.value.categories.find(Z=>Z.id===U.value)),D=h(()=>b.value.packages.find(Z=>Z.id===u.getters["booking/getPackageId"])),F=x(0),c=x("description"),q=h(()=>sa(b.value,D.value,s.value)),ne=h(()=>nt(b.value,D.value,s.value)),J=x(d.value.employee.length>0?b.value.unfilteredEmployees.filter(Z=>d.value.employee.map(W=>parseInt(W)).includes(Z.id)):b.value.unfilteredEmployees);function pe(Z){let W=[];return Z.providers.length?Z.providers.forEach(z=>{J.value.find(ce=>ce.id===parseInt(z.id))&&W.push(J.value.find(ce=>ce.id===parseInt(z.id)))}):W=J.value.filter(z=>z.serviceList.find(ce=>ce.id===Z.service.id)),W}Re(()=>{k.value.packageDescription.visibility||(c.value="employees"),Oe(D.value.description)||(c.value="employees")});let $e=x(!1);Mt(()=>{$e.value=u.getters["entities/getEmployees"].length===0||q.value.length===0});let V=x(!1),be=h(()=>{let Z=D.value.gallery.length?JSON.parse(JSON.stringify(D.value.gallery)):[];return D.value.gallery.length===1?[]:(Z.shift(),Z.length>2&&Z.splice(2,Z.length-2),Z)});function oe(){f.value="",xe(()=>{w()})}let v=x(!1),fe=x("760px");se("bookingDialogWidth",fe);function we(){u.commit("booking/setPackageId",D.value.id),u.commit("booking/setMultipleAppointments",It(0,D.value)),u.commit("booking/setMultipleAppointmentsIndex",0),u.commit("booking/setBookableType","package"),xe(()=>{v.value=!0})}A("restoreFormData").value&&we();let ve=x("");se("stepName",ve);function ee(){let Z=u.getters["entities/getBookableFromBookableEntities"](u.getters["booking/getSelection"]),W=Z.settings?JSON.parse(Z.settings):$;"general"in W&&"redirectUrlAfterAppointment"in W.general&&W.general.redirectUrlAfterAppointment?window.location.href=W.general.redirectUrlAfterAppointment:$.general.redirectUrlAfterAppointment?window.location.href=$.general.redirectUrlAfterAppointment:window.location.reload()}function Le(){ve.value&&ve.value==="CongratulationsStep"?ee():u.commit("entities/setPreselected",u.getters["entities/getOriginalPreselected"]),fe.value="760px"}let Te=A("amFonts");const _=A("labels"),Q=A("localLanguage");let G=h(()=>$.general.usedLanguages.includes(Q.value)),M=h(()=>{let Z=it(tt({},_));if($.customizedData&&$.customizedData.cbf&&$.customizedData.cbf.categoryPackage.translations){let W=$.customizedData.cbf.categoryPackage.translations;Object.keys(W).forEach(z=>{W[z][Q.value]&&G.value?Z[z]=W[z][Q.value]:W[z].default&&(Z[z]=W[z].default)})}return Z});function Be(Z,W){let z="";return Z>1?(W==="day"&&(z=M.value.expires_days),W==="week"&&(z=M.value.expires_weeks),W==="month"&&(z=M.value.expires_months)):(W==="day"&&(z=M.value.expires_day),W==="week"&&(z=M.value.expires_week),W==="month"&&(z=M.value.expires_month)),z}let ie=A("amColors"),We=h(()=>({"--am-c-fcip-success-op20":ae(ie.value.colorSuccess,.2),"--am-c-fcip-primary-op20":ae(ie.value.colorPrimary,.2),"--am-c-fcip-text-op80":ae(ie.value.colorMainText,.8),"--am-c-fcip-text-op60":ae(ie.value.colorMainText,.6),"--am-c-fcip-text-op03":ae(ie.value.colorMainText,.03),"--am-c-fcip-btn-op50":ae(ie.value.colorBtnSec,.5)})),Fe=h(()=>({"--am-c-fcip-bgr":ie.value.colorMainBgr,"--am-c-fcip-text":ie.value.colorMainText,"--am-c-fcip-success":ie.value.colorSuccess,"--am-c-fcip-primary":ie.value.colorPrimary,"--am-c-scroll-op30":ae(ie.value.colorPrimary,.3),"--am-c-scroll-op10":ae(ie.value.colorPrimary,.1),"--am-font-family":Te.fontFamily}));return(Z,W)=>(t(),i(K,null,[e($e)?r("",!0):(t(),he(Ut,{key:0,ref_key:"contentRef",ref:m,"wrapper-class":"am-fcip","form-class":"am-fcip__form","heading-class":"am-fcip__header","content-class":`am-fcip__content ${e(I)?"":"no-scroll"}`,style:re(e(We))},Ot({heading:N(()=>{var z,ce;return[a("div",{class:O([[{"am-tablet":e(P)<=678},{"am-mobile":e(P)<450}],"am-fcip__header-top"])},[a("div",Tn,[a("span",Bn,[a("span",null,l(e(D).name),1)]),e(k).packageBadge.visibility?(t(),i("div",Fn,[zn,a("span",null,l(e(M).package),1)])):r("",!0)]),a("div",An,[e(D).discount&&e(k).packagePrice.visibility?(t(),i("span",Rn,l(`${e(M).save} ${e(D).discount}%`),1)):r("",!0),e(k).packagePrice.visibility?(t(),i("span",Mn,l(e(D).price?e(Ke)(e(Nt)(e(D))):e(M).free),1)):r("",!0),e(D).price&&((ce=(z=e(k).tax)==null?void 0:z.visibility)!=null?ce:!0)&&e(vt)(e(u),e(D).id,"package")?(t(),i("span",On,[e($).payments.taxes.excluded?(t(),i(K,{key:0},[de(l(`+${e(M).total_tax_colon}`),1)],64)):(t(),i(K,{key:1},[de(l(e(M).incl_tax),1)],64))])):r("",!0),a("span",Nn,[Y(Ae,{type:e(k).bookingBtn.buttonType,onClick:we},{default:N(()=>[de(l(e(M).book_now),1)]),_:1},8,["type"])])])],2),e(k).packageCategory.visibility&&e(d).package.length!==1||e(k).packageDuration.visibility||e(k).packageCapacity.visibility||e(k).packageLocation.visibility&&e(ne).length?(t(),i("div",Vn,[a("div",Un,[e(d).package.length!==1&&e(k).packageCategory.visibility&&e(te)?(t(),i("div",Wn,[jn,a("span",null,l(e(te).name),1)])):r("",!0),e(k).packageDuration.visibility?(t(),i("div",Hn,[qn,e(D).endDate?(t(),i("span",Gn,l(`${e(M).expires_at} ${e(D).endDate.split(" ")[0]}`),1)):e(D).durationCount?(t(),i("span",Jn,l(`${e(M).expires_after} ${e(D).durationCount} ${Be(e(D).durationCount,e(D).durationType)}`),1)):(t(),i("span",Yn,l(e(M).without_expiration),1))])):r("",!0),e(k).packageCapacity.visibility?(t(),i("div",Qn,Kn)):r("",!0),e(ne).length&&e(k).packageLocation.visibility?(t(),i("div",eo,[to,a("span",null,l(e(ne).length===1?e(ne)[0].address?e(ne)[0].address:e(ne)[0].name:e(M).multiple_locations),1)])):r("",!0)])])):r("",!0)]}),content:N(()=>[e(D).gallery.length?(t(),i("div",ao,[a("div",{class:O(["am-fcip__gallery-hero",[{w100:e(D).gallery.length===1},{"am-mobile w100":e(P)<678}]]),style:re({backgroundImage:`url(${e(D).gallery[0].pictureFullPath})`})},null,6),e(be).length&&e(P)>677?(t(),i("div",io,[(t(!0),i(K,null,ge(e(be),(z,ce)=>(t(),i("div",{key:ce,class:O(["am-fcip__gallery-thumb",{"am-one-thumb":e(be).length===1}]),style:re({backgroundImage:`url(${z.pictureFullPath})`})},null,6))),128))])):r("",!0),Y(Ae,{"custom-class":`am-fcip__gallery-btn${e(P)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:W[0]||(W[0]=()=>ue(V)?V.value=!0:V=!0)},{default:N(()=>[so,a("span",null,l(e(M).view_all_photos),1)]),_:1},8,["custom-class"])])):r("",!0),Y(ut,{modelValue:e(V),"onUpdate:modelValue":W[4]||(W[4]=z=>ue(V)?V.value=z:V=z),"modal-class":"amelia-v2-booking amelia-v2-gdp","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:N(()=>[a("div",{class:"am-gd",style:re(e(Fe))},[a("div",lo,[a("div",no,[a("span",{class:"am-icon-arrow-left",onClick:W[1]||(W[1]=()=>ue(F)?F.value=e(F)<=0?e(D).gallery.length-1:e(F)-1:F=e(F)<=0?e(D).gallery.length-1:e(F)-1)}),a("span",{class:"am-icon-arrow-right",onClick:W[2]||(W[2]=()=>ue(F)?F.value=e(D).gallery.length-1===e(F)?0:e(F)+1:F=e(D).gallery.length-1===e(F)?0:e(F)+1)})]),(t(!0),i(K,null,ge(e(D).gallery,(z,ce)=>(t(),i("div",{key:ce,class:"am-gd__display",style:re({display:ce===e(F)?"flex":"none"}),onClick:W[3]||(W[3]=()=>ue(F)?F.value=e(D).gallery.length-1===e(F)?0:e(F)+1:F=e(D).gallery.length-1===e(F)?0:e(F)+1)},[a("img",{src:z.pictureFullPath,alt:ce},null,8,oo)],4))),128))]),a("div",co,l(`${e(F)+1}/${e(D).gallery.length}`),1),a("div",ro,[(t(!0),i(K,null,ge(e(D).gallery,(z,ce)=>(t(),i("div",{key:ce,class:O(["am-gd__thumb",{"am-active":ce===e(F)}]),style:re({backgroundImage:`url(${z.pictureFullPath})`}),onClick:()=>ue(F)?F.value=ce:F=ce},null,14,uo))),128))])],4)]),_:1},8,["modelValue"]),e(k).packageDescription.visibility&&e(Oe)(e(D).description)||e(k).packageEmployees.visibility?(t(),i("div",mo,[a("div",po,[e(Oe)(e(D).description)&&e(k).packageDescription.visibility?(t(),i("div",{key:0,class:O(["am-fcip__info-tab",{"am-active":e(c)==="description"}]),onClick:W[5]||(W[5]=()=>ue(c)?c.value="description":c="description")},l(e(M).about_package),3)):r("",!0),e(k).packageEmployees.visibility?(t(),i("div",{key:1,class:O([{"am-active":e(c)==="employees"},"am-fcip__info-tab"]),onClick:W[6]||(W[6]=()=>ue(c)?c.value="employees":c="employees")},l(e(M).tab_employees),3)):r("",!0)]),a("div",_o,[e(Oe)(e(D).description)&&e(k).packageDescription.visibility?St((t(),i("div",vo,[a("div",{class:O(["am-fcip__info-service__desc",{"ql-description":e(D).description.includes("<!-- Content -->")}]),innerHTML:e(D).description},null,10,fo)],512)),[[xt,e(c)==="description"]]):r("",!0),e(k).packageEmployees.visibility?St((t(),i("div",go,[Y($t,null,{default:N(()=>[(t(!0),i(K,null,ge(e(q),z=>(t(),he(wt,{key:z.id,side:""},{heading:N(()=>[a("div",yo,[a("div",ho,[Y(ct,{"item-class":"am-fcip__info-employee__img","item-data":z,"trim-string":3},null,8,["item-data"]),a("div",bo,[de(l(z.firstName)+" "+l(z.lastName)+" ",1),z.badge?(t(),i("span",{key:0,style:re({background:z.badge.color}),class:"am-fcip__info-employee__badge"},l(z.badge.content),5)):r("",!0)])])])]),default:N(()=>[e(Oe)(z.description)?(t(),i("div",{key:0,class:O(["am-fcip__info-employee__description",{"ql-description":z.description.includes("<!-- Content -->")}]),innerHTML:z.description},null,10,ko)):r("",!0)]),_:2},1024))),128))]),_:1})],512)),[[xt,e(c)==="employees"]]):r("",!0)])])):r("",!0),e(k).packageServices.visibility?(t(),i("div",Co,[a("div",$o,[a("span",wo,l(`${e(M).package_includes}:`),1)]),Y($t,null,{default:N(()=>[(t(!0),i(K,null,ge(e(D).bookable,z=>(t(),he(wt,{key:z.id,side:!0},{heading:N(()=>[a("div",So,[Y(ct,{"item-class":"am-fcip__include-service__img","item-data":z.service},null,8,["item-data"]),de(" "+l(z.service.name+(e(D).sharedCapacity?"":" x"+z.quantity)),1)])]),default:N(()=>[a("div",xo,[a("span",null,l(`${e(M).tab_employees}:`),1),(t(!0),i(K,null,ge(pe(z).slice(0,6),ce=>(t(),he(ct,{key:ce.id,"item-class":"am-fcip__include-service__info-name","item-data":ce,"trim-string":3},null,8,["item-data"]))),128)),pe(z).length>6?(t(),i("span",Po," + "+l(pe(z).length-6),1)):r("",!0),e(Oe)(z.service.description)?(t(),i("div",{key:1,class:O(["am-fcip__include-service__info-description",{"ql-description":z.service.description.includes("<!-- Content -->")}]),innerHTML:z.service.description},null,10,Io)):r("",!0)])]),_:2},1024))),128))]),_:1}),a("div",Eo,[a("span",Do,l(e(M).package_book_service),1)])])):r("",!0),Y(ut,{modelValue:e(v),"onUpdate:modelValue":W[7]||(W[7]=z=>ue(v)?v.value=z:v=z),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(fe),onClosed:Le},{default:N(()=>[Y(Wt)]),_:1},8,["modelValue","width"])]),_:2},[e(d).package.length!==1?{name:"header",fn:N(()=>[Y(Vt,{"btn-string":e(M).back_btn,"btn-type":e(k).backBtn.buttonType,onGoBack:oe},null,8,["btn-string","btn-type"])])}:void 0]),1032,["content-class","style"])),e($e)?(t(),i("div",Lo,[a("img",{src:e(B).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,To),a("div",Bo,l(e(M).oops),1),a("div",Fo,l(e(M).no_package_services),1),a("div",zo,[a("a",Ao,l(e(M).add_services_url)+"\xA0 ",1)])],512)):r("",!0)],64))}});const Oo={name:"CatalogSkeleton"},No=Object.assign(Oo,{setup(p){let w=x(null),m=x(0);window.addEventListener("resize",P);function P(){w.value&&(m.value=w.value.offsetWidth)}Re(()=>{w.value&&(m.value=w.value.offsetWidth)});let $=h(()=>m.value<=500?"am-w100":m.value<=600?"am-w50":m.value<=768?"am-w33":"");return(B,u)=>{const s=qa,d=Ha;return t(),i("div",{ref_key:"amSkeletonContainer",ref:w,class:"am-skeleton-catalog__wrapper"},[Y(d,{animated:"",class:"am-skeleton-catalog"},{template:N(()=>[(t(!0),i(K,null,ge(new Array(8),b=>(t(),i("div",{key:b,class:O(["am-skeleton-catalog__item",e($)])},[Y(s,{class:"am-skeleton-catalog__item-inner",variant:"text"})],2))),128))]),_:1})],512)}}});const Vo=a("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),Uo=a("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Wo=["href"],jo={name:"CatalogFormWrapper"},Ho=Object.assign(jo,{emits:["isRestored"],setup(p,{emit:w}){let m=A("isMounted"),P=A("licence"),$=x(null),B=x(20);const u=A("baseUrls");let s=x(0);se("containerWidth",s),window.addEventListener("resize",d);function d(){$.value&&(s.value=$.value.offsetWidth)}Re(()=>{I.commit("shortcodeParams/setForm","catalogForm"),document.getElementById("amelia-v2-booking-"+k.value.counter).classList.add("amelia-v2-booking-"+k.value.counter+"-loaded"),_t(I,{},"ViewContent","appointment",null,null),d(),m.value=!0,Zt("scrollForm",{offsetFromTop:B})});let b=x(!1);const L=A("settings"),k=A("shortcodeData"),I=at();I.commit("entities/setPreselected",k.value),I.dispatch("entities/getEntities",{types:["employees","categories","locations","packages","entitiesRelations","customFields","taxes"],licence:P,loadEntities:k.value.trigger||window.ameliaShortcodeData.filter(Q=>!Q.hasApiCall).length===window.ameliaShortcodeData.length?!0:k.value.hasApiCall,showHidden:!1});const f=Se(Li),U=Se(ml),te=Se(Ln),D=Se(Mo);let F=x([f,U]),c=x(0),q=x(null);se("categorySelected",q);let ne=x([]);se("availableCategories",ne);let J=x("");se("itemType",J),Ct(J,()=>{J.value==="appointment"&&F.value.push(te),J.value==="package"&&F.value.push(D),J.value===""&&F.value.forEach((Q,G)=>{Q.name==="CategoryService"&&pe(F.value,G),Q.name==="CategoryPackage"&&pe(F.value,G)})});function pe(Q,G){Q.splice(G,1)}function $e(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function V(){if(c.value=c.value+1,$e())setTimeout(()=>{let Q=$.value.getBoundingClientRect().top+window.pageYOffset-B.value;window.scrollTo({top:Q,behavior:"smooth"})},500);else{let Q=$.value.getBoundingClientRect().top+window.pageYOffset-B.value;window.scrollTo({top:Q,behavior:"smooth"})}}function be(){c.value=c.value-1}se("changingPageFunctions",{nextPage:V,previousPage:be});let oe=h(()=>I.getters["entities/getReady"]),v=h(()=>I.state.entities);se("amEntities",v);function fe(){let Q=I.getters["entities/getPreselected"];if(Q.category.length!==1&&(k.value.categories_hidden&&(ne.value=JSON.parse(JSON.stringify(kt(v.value,k.value))),xe(()=>{let G=F.value.findIndex(M=>M.name==="CategoriesList");F.value.splice(G,1)})),k.value.categories_hidden||(ne.value=JSON.parse(JSON.stringify(kt(v.value,k.value))),xe(()=>{if(ne.value.length===1){I.commit("booking/setCategoryId",parseInt(ne.value[0].id)),q.value=parseInt(ne.value[0].id);let G=F.value.findIndex(M=>M.name==="CategoriesList");F.value.splice(G,1)}}))),Q.category.length===1&&(I.commit("booking/setCategoryId",parseInt(Q.category)),q.value=parseInt(Q.category[0]),ne.value=JSON.parse(JSON.stringify(kt(v.value,k.value).filter(G=>G.id===parseInt(Q.category[0])))),xe(()=>{let G=F.value.findIndex(M=>M.name==="CategoriesList");F.value.splice(G,1)})),Q.service.length===1){I.commit("booking/setServiceId",parseInt(Q.service[0]));let G=I.getters["entities/getService"](parseInt(Q.service[0]));q.value=G?parseInt(G.categoryId):null,I.commit("booking/setCategoryId",G?parseInt(G.categoryId):null),xe(()=>{F.value=[],F.value.push(te)})}Q.employee.length===1&&I.commit("booking/setEmployeeId",parseInt(Q.employee[0])),Q.location.length===1&&I.commit("booking/setLocationId",parseInt(Q.location[0])),Q.package.length===1&&I.getters["entities/getPackages"].length&&(F.value=[],I.commit("booking/setPackageId",parseInt(Q.package[0])),xe(()=>{F.value.push(D)})),Q.show==="packages"?I.commit("booking/setBookableType","package"):I.commit("booking/setBookableType","appointment")}let we=h(()=>oe.value?Ja(I,k.value):null);se("restoreFormData",we),Ct(oe,Q=>{Q&&(fe(),b.value=I.getters["entities/getServices"].length===0||I.getters["entities/getEmployees"].length===0,we.value&&(J.value=I.state.booking.appointment.type,xe(()=>{c.value=F.value.length-1,q.value=I.state.booking.appointment.categoryId,w("isRestored",we.value)})))});let _e=h(()=>L.customizedData&&"cbf"in L.customizedData?L.customizedData.cbf:ot.cbf);se("customizedDataForm",_e);const ve=x(L.customizedData?L.customizedData.fonts:ot.fonts);se("amFonts",ve);let ee=h(()=>L.customizedData&&"cbf"in L.customizedData?L.customizedData.cbf.colors:ot.cbf.colors);se("amColors",ee);let Le=h(()=>({"--am-c-primary":ee.value.colorPrimary,"--am-c-success":ee.value.colorSuccess,"--am-c-error":ee.value.colorError,"--am-c-warning":ee.value.colorWarning,"--am-c-main-bgr":ee.value.colorMainBgr,"--am-c-main-heading-text":ee.value.colorMainHeadingText,"--am-c-main-text":ee.value.colorMainText,"--am-c-sb-bgr":ee.value.colorSbBgr,"--am-c-sb-text":ee.value.colorSbText,"--am-c-inp-bgr":ee.value.colorInpBgr,"--am-c-inp-border":ee.value.colorInpBorder,"--am-c-inp-text":ee.value.colorInpText,"--am-c-inp-placeholder":ee.value.colorInpPlaceHolder,"--am-c-drop-bgr":ee.value.colorDropBgr,"--am-c-drop-text":ee.value.colorDropText,"--am-c-card-bgr":ee.value.colorCardBgr,"--am-c-card-text":ee.value.colorCardText,"--am-c-card-border":ee.value.colorCardBorder,"--am-c-btn-prim":ee.value.colorBtnPrim,"--am-c-btn-prim-text":ee.value.colorBtnPrimText,"--am-c-btn-sec":ee.value.colorBtnSec,"--am-c-btn-sec-text":ee.value.colorBtnSecText,"--am-c-skeleton-op20":ae(ee.value.colorMainText,.2),"--am-c-skeleton-op60":ae(ee.value.colorMainText,.6),"--am-font-family":ve.value.fontFamily}));function Te(){let Q=document.head||document.getElementsByTagName("head")[0];Q.querySelector("#amCustomFont")&&Q.querySelector("#amCustomFont").remove();let G=`@font-face {font-family: '${ve.value.fontFamily}'; src: url(${ve.value.fontUrl});}`,M=document.createElement("style");Q.appendChild(M),M.setAttribute("type","text/css"),M.setAttribute("id","amCustomFont"),M.appendChild(document.createTextNode(G))}ve.value.customFontSelected&&Te();let _=h(()=>({colorInputBorderRadius:"6px"}));return se("amDesignProperties",_),(Q,G)=>(t(),i(K,null,[ve.value.customFontSelected?r("",!0):(t(),i(K,{key:0},[Vo,Uo,a("link",{rel:"stylesheet",type:"text/css",href:`${e(u).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Wo)],64)),a("div",{id:"amelia-container",ref_key:"ameliaContainer",ref:$,class:"am-fc__wrapper",style:re(e(Le))},[e(oe)&&e(F).length?(t(),he(Kt(e(F)[e(c)]),{key:0})):(t(),he(No,{key:1}))],4),Y(e(Ga))],64))}});var Jo=Object.freeze(Object.defineProperty({__proto__:null,default:Ho},Symbol.toStringTag,{value:"Module"}));export{Jo as C,Pt as _,oi as a,Vt as b,ct as c,Ut as d,Ho as e};
